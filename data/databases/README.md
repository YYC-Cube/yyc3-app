# PostgreSQL MCP Server - Complete Implementation

ğŸš€ **åŠŸèƒ½å®Œæ•´çš„PostgreSQL MCPæœåŠ¡å™¨ï¼Œæ”¯æŒå®‰å…¨çš„æ•°æ®åº“è®¿é—®å’ŒAIè¾…åŠ©æŸ¥è¯¢**

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºModel Context Protocol (MCP) çš„PostgreSQLæ•°æ®åº“æœåŠ¡å™¨ï¼Œå…è®¸é€šè¿‡AIå¼€å‘å·¥å…·å®‰å…¨åœ°è®¿é—®å’ŒæŸ¥è¯¢PostgreSQLæ•°æ®åº“ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- ğŸ”’ **å®‰å…¨æ•°æ®åº“è®¿é—®** - é»˜è®¤åªè¯»æ¨¡å¼ï¼Œå¯é…ç½®å†™å…¥æ“ä½œ
- ğŸ› ï¸ **æ™ºèƒ½SQLæŸ¥è¯¢** - æ”¯æŒå‚æ•°åŒ–æŸ¥è¯¢å’Œå¤æ‚SQLæ“ä½œ
- ğŸ“Š **è¡¨èµ„æºè®¿é—®** - å°†æ•°æ®åº“è¡¨ä½œä¸ºMCPèµ„æºæš´éœ²
- ğŸ” **æ¨¡å¼å‘ç°** - è‡ªåŠ¨å‘ç°è¡¨ç»“æ„å’Œæ•°æ®åº“å…ƒä¿¡æ¯
- ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–** - è¿æ¥æ± ã€æŸ¥è¯¢é™åˆ¶å’Œè¶…æ—¶å¤„ç†
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨** - åŸºäºZodçš„è¾“å…¥éªŒè¯

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
postgresql-mcp-server-complete/
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ QUICK_START.md           # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ DEPLOYMENT.md             # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ API_REFERENCE.md          # APIå‚è€ƒæ–‡æ¡£
â”œâ”€â”€ SECURITY.md               # å®‰å…¨æŒ‡å—
â”œâ”€â”€ TROUBLESHOOTING.md         # æ•…éšœæ’é™¤
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ index.ts                  # ä¸»æœåŠ¡å™¨å®ç°
â”œâ”€â”€ types.ts                  # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ database.ts           # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ security.ts           # å®‰å…¨é…ç½®
â”‚   â””â”€â”€ performance.ts        # æ€§èƒ½é…ç½®
â”œâ”€â”€ tools/                    # MCPå·¥å…·å®ç°
â”‚   â”œâ”€â”€ query.ts              # SQLæŸ¥è¯¢å·¥å…·
â”‚   â”œâ”€â”€ tables.ts             # è¡¨ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ describe.ts           # è¡¨æè¿°å·¥å…·
â”œâ”€â”€ resources/                # èµ„æºç®¡ç†
â”‚   â”œâ”€â”€ table-resource.ts     # è¡¨èµ„æºå®ç°
â”‚   â””â”€â”€ resource-manager.ts   # èµ„æºç®¡ç†å™¨
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ validation.ts         # è¾“å…¥éªŒè¯
â”‚   â”œâ”€â”€ connection.ts         # æ•°æ®åº“è¿æ¥
â”‚   â””â”€â”€ security.ts           # å®‰å…¨æ£€æŸ¥
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ integration.test.ts   # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ unit.test.ts          # å•å…ƒæµ‹è¯•
â”œâ”€â”€ docs/                     # è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md       # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ database-setup.md     # æ•°æ®åº“è®¾ç½®
â”‚   â”œâ”€â”€ monitoring.md         # ç›‘æ§æŒ‡å—
â”‚   â””â”€â”€ examples/             # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ scripts/                  # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ setup.sh              # å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ test.sh               # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ deploy.sh             # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ mcp-config.json       # MCPé…ç½®
â”‚   â”œâ”€â”€ cursor-config.json    # Cursoré…ç½®
â”‚   â””â”€â”€ claude-config.json    # Claudeé…ç½®
â””â”€â”€ examples/                 # ç¤ºä¾‹å’Œæ¼”ç¤º
    â”œâ”€â”€ sample-queries.sql    # ç¤ºä¾‹æŸ¥è¯¢
    â”œâ”€â”€ test-schema.sql       # æµ‹è¯•æ¶æ„
    â””â”€â”€ demo-usage.md         # ä½¿ç”¨æ¼”ç¤º
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
bun install
```

### 2. é…ç½®æ•°æ®åº“
```bash
cp config/database.example.ts config/database.ts
# ç¼–è¾‘é…ç½®æ–‡ä»¶
```

### 3. å¯åŠ¨æœåŠ¡å™¨
```bash
bun run index.ts
```

### 4. åœ¨å¼€å‘å·¥å…·ä¸­é…ç½®
å‚è€ƒ `docs/` ç›®å½•ä¸­çš„é…ç½®æŒ‡å—

## ğŸ› ï¸ å¯ç”¨å·¥å…·

### `pg_query`
æ‰§è¡ŒSQLæŸ¥è¯¢
```typescript
{
  "query": "SELECT * FROM users WHERE active = $1",
  "parameters": [true],
  "limit": 100
}
```

### `pg_list_tables`
åˆ—å‡ºæ•°æ®åº“è¡¨
```typescript
{
  "schema": "public"
}
```

### `pg_describe_table`
æè¿°è¡¨ç»“æ„
```typescript
{
  "table": "users",
  "schema": "public"
}
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **é»˜è®¤åªè¯»æ¨¡å¼** - é˜²æ­¢æ„å¤–æ•°æ®ä¿®æ”¹
- **SQLæ³¨å…¥é˜²æŠ¤** - å‚æ•°åŒ–æŸ¥è¯¢å’Œè¾“å…¥éªŒè¯
- **æŸ¥è¯¢é™åˆ¶** - æœ€å¤§è¿”å›è¡Œæ•°å’Œè¶…æ—¶æ§åˆ¶
- **æƒé™æ§åˆ¶** - ç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

- **ç»“æ„åŒ–æ—¥å¿—** - è¯¦ç»†çš„æ“ä½œæ—¥å¿—
- **æ€§èƒ½æŒ‡æ ‡** - æŸ¥è¯¢æ—¶é—´å’Œè¿æ¥çŠ¶æ€
- **é”™è¯¯è¿½è¸ª** - å®Œæ•´çš„é”™è¯¯ä¿¡æ¯å’Œå †æ ˆ
- **ä½¿ç”¨ç»Ÿè®¡** - å·¥å…·è°ƒç”¨é¢‘ç‡å’Œæ¨¡å¼åˆ†æ

## ğŸ³ Dockeræ”¯æŒ

```bash
docker build -t postgresql-mcp-server .
docker run -p 3000:3000 --env-file .env postgresql-mcp-server
```

## â˜ï¸ äº‘éƒ¨ç½²

æ”¯æŒå¤šç§äº‘å¹³å°éƒ¨ç½²ï¼š
- Railway
- Vercel
- AWS Lambda
- Google Cloud Functions

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [APIå‚è€ƒ](./API_REFERENCE.md) - å®Œæ•´çš„APIæ–‡æ¡£
- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md) - éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- [å®‰å…¨æŒ‡å—](./SECURITY.md) - å®‰å…¨æœ€ä½³å®è·µ
- [æ•…éšœæ’é™¤](./TROUBLESHOOTING.md) - å¸¸è§é—®é¢˜è§£å†³

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [Model Context Protocol](https://modelcontextprotocol.io/)
- [Postgres.js](https://github.com/porsager/postgres)
- [Zod](https://zod.dev/)
- [Bun](https://bun.sh/)

---

**ğŸ¯ ç°åœ¨æ‚¨å¯ä»¥åœ¨ä»»ä½•æ”¯æŒMCPçš„å¼€å‘å·¥å…·ä¸­å®‰å…¨åœ°è®¿é—®PostgreSQLæ•°æ®åº“äº†ï¼**