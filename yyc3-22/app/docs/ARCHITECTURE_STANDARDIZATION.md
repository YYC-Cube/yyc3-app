# ğŸ”– YYC3 App æ–‡ä»¶æ¶æ„æ ‡å‡†åŒ–è§„èŒƒ

> ***YanYuCloudCube***
> **æ ‡è¯­**ï¼šè¨€å¯è±¡é™ | è¯­æ¢æœªæ¥
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> **æ ‡è¯­**ï¼šä¸‡è±¡å½’å…ƒäºäº‘æ¢ | æ·±æ ˆæ™ºå¯æ–°çºªå…ƒ
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

## ğŸ“– æ ‡å‡†åŒ–æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†YYC3 Appé¡¹ç›®çš„æ–‡ä»¶æ¶æ„æ ‡å‡†åŒ–è§„èŒƒï¼Œæ—¨åœ¨æé«˜é¡¹ç›®å¯ç»´æŠ¤æ€§ã€å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

## ğŸ—ï¸ æ ‡å‡†åŒ–åŸåˆ™

1. **ä¸€è‡´æ€§**: æ‰€æœ‰æœåŠ¡éµå¾ªç»Ÿä¸€çš„ç›®å½•ç»“æ„
2. **å¯è¯»æ€§**: æ–‡ä»¶å‘½åæ¸…æ™°ï¼ŒåŠŸèƒ½æ¨¡å—æ˜ç¡®
3. **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£åˆ†ç¦»
4. **å¯æ‰©å±•æ€§**: ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½å’ŒæœåŠ¡
5. **å®‰å…¨æ€§**: æ•æ„Ÿé…ç½®æ–‡ä»¶åˆ†ç¦»ä¿æŠ¤

## ğŸ“ æ ‡å‡†åŒ–ç›®å½•ç»“æ„

### ä¸»é¡¹ç›®æ ¹ç›®å½•ç»“æ„

```
app/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®æ€»ä½“è¯´æ˜
â”œâ”€â”€ ğŸ“„ package.json                 # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ docker-compose.yml          # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ ğŸ“„ Dockerfile                   # Dockeré•œåƒé…ç½®
â”œâ”€â”€ ğŸ“„ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ TECHNICAL_DOCUMENTATION.md  # ä¸»é¡¹ç›®æŠ€æœ¯æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ API_REFERENCE.md            # ä¸»é¡¹ç›®APIæ–‡æ¡£
â”œâ”€â”€ ğŸ“ api/                         # APIæœåŠ¡æ¨¡å—
â”œâ”€â”€ ğŸ“ admin/                       # ç®¡ç†åå°æ¨¡å—
â”œâ”€â”€ ğŸ“ llm/                         # AIå¤§è¯­è¨€æ¨¡å‹æ¨¡å—
â”œâ”€â”€ ğŸ“ mail/                        # é‚®ä»¶æœåŠ¡æ¨¡å—
â”œâ”€â”€ ğŸ“ redis/                       # RedisæœåŠ¡æ¨¡å—ï¼ˆæ ‡å‡†åŒ–å‘½åï¼‰
â”œâ”€â”€ ğŸ“ shared/                      # å…±äº«æ¨¡å—åº“
â”œâ”€â”€ ğŸ“ helm/                        # Kuberneteséƒ¨ç½²é…ç½®
â”œâ”€â”€ ğŸ“ public/                      # é™æ€èµ„æº
â”œâ”€â”€ ğŸ“ scripts/                     # éƒ¨ç½²å’Œå·¥å…·è„šæœ¬
â”œâ”€â”€ ğŸ“ tests/                       # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ ğŸ“ logs/                        # æ—¥å¿—ç›®å½•
â””â”€â”€ ğŸ“ docs/                        # é¡¹ç›®æ–‡æ¡£
```

### æœåŠ¡æ¨¡å—æ ‡å‡†ç»“æ„

æ¯ä¸ªæœåŠ¡æ¨¡å—ï¼ˆapiã€adminã€llmã€mailã€redisç­‰ï¼‰åº”éµå¾ªä»¥ä¸‹æ ‡å‡†ç»“æ„ï¼š

```
{service}/
â”œâ”€â”€ ğŸ“„ package.json               # æœåŠ¡ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ .env.example               # æœåŠ¡ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ server.js                  # æœåŠ¡ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ Dockerfile                 # æœåŠ¡Dockeré…ç½®ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ ğŸ“ docs/                      # æœåŠ¡æ–‡æ¡£
â”‚   â””â”€â”€ ğŸ“„ TECHNICAL_DOCUMENTATION.md
â”œâ”€â”€ ğŸ“ config/                    # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ middleware/               # ä¸­é—´ä»¶
â”œâ”€â”€ ğŸ“ routes/                    # è·¯ç”±å®šä¹‰
â”œâ”€â”€ ğŸ“ services/                  # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ ğŸ“ models/                    # æ•°æ®æ¨¡å‹
â”œâ”€â”€ ğŸ“ utils/                     # å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“ tests/                     # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ ğŸ“ logs/                      # æ—¥å¿—ç›®å½•
â””â”€â”€ ğŸ“ templates/                 # æ¨¡æ¿æ–‡ä»¶ï¼ˆå¦‚é€‚ç”¨ï¼‰
```

## ğŸ”§ æ ‡å‡†åŒ–æ–‡ä»¶å‘½åè§„èŒƒ

### æ–‡ä»¶å‘½åè§„åˆ™

| æ–‡ä»¶ç±»å‹ | å‘½åè§„èŒƒ | ç¤ºä¾‹ |
|----------|----------|------|
| é…ç½®æ–‡ä»¶ | `.env.example` | `.env.example` |
| ä¸»å…¥å£æ–‡ä»¶ | `server.js` æˆ– `index.js` | `server.js` |
| å·¥å…·å‡½æ•° | `kebab-case.js` | `email-validator.js` |
| ç±»æ–‡ä»¶ | `PascalCase.js` | `UserService.js` |
| å¸¸é‡æ–‡ä»¶ | `UPPER_SNAKE_CASE.js` | `API_CONSTANTS.js` |
| æµ‹è¯•æ–‡ä»¶ | `{name}.test.js` | `userService.test.js` |

### ç›®å½•å‘½åè§„åˆ™

- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼š`user-service`, `mail-templates`
- é¿å…ä½¿ç”¨ç¼©å†™ï¼šä½¿ç”¨ `middleware` è€Œä¸æ˜¯ `mid`
- å¤æ•°å½¢å¼ï¼š`templates`, `controllers`, `services`

## ğŸ“‹ å…·ä½“æ ‡å‡†åŒ–è¦æ±‚

### 1. é…ç½®ç®¡ç†

```bash
# ç¯å¢ƒå˜é‡å‘½åè§„èŒƒ
YYC3_{SERVICE}_{CONFIG_KEY}

# ç¤ºä¾‹
YYC3_API_PORT=6600
YYC3_ADMIN_PORT=6601
YYC3_LLM_PORT=6602
YYC3_MAIL_PORT=6603
YYC3_REDIS_PORT=6606
```

### 2. ç«¯å£åˆ†é…è§„èŒƒ

| æœåŠ¡ | å¼€å‘ç«¯å£ | ç”Ÿäº§ç«¯å£ | è¯´æ˜ |
|------|----------|----------|------|
| APIæœåŠ¡ | 3000 | 6600 | æ ¸å¿ƒAPIæ¥å£ |
| ç®¡ç†åå° | 3001 | 6601 | ç³»ç»Ÿç®¡ç†ç•Œé¢ |
| LLMæœåŠ¡ | 3002 | 6602 | AIå¤§è¯­è¨€æ¨¡å‹ |
| é‚®ä»¶æœåŠ¡ | 3003 | 6603 | é‚®ä»¶å‘é€æœåŠ¡ |
| RedisæœåŠ¡ | 3004 | 6606 | ç¼“å­˜å’Œé˜Ÿåˆ—æœåŠ¡ |

### 3. Dockeræ ‡å‡†åŒ–

```dockerfile
# æ ‡å‡†åŒ–Dockerfileæ¨¡æ¿
FROM node:18-alpine

WORKDIR /app

# å¤åˆ¶packageæ–‡ä»¶
COPY package*.json ./

# å®‰è£…ä¾èµ–
RUN npm ci --only=production

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# åˆ›å»ºæ—¥å¿—ç›®å½•
RUN mkdir -p logs

# æš´éœ²ç«¯å£
EXPOSE 6600

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD node -e "require('http').get('http://localhost:6600/health', (res) => { process.exit(res.statusCode === 200 ? 0 : 1) })"

# å¯åŠ¨åº”ç”¨
CMD ["npm", "start"]
```

### 4. æ–‡æ¡£æ ‡å‡†åŒ–

æ¯ä¸ªæœåŠ¡å¿…é¡»åŒ…å«ä»¥ä¸‹æ–‡æ¡£ï¼š

- **TECHNICAL_DOCUMENTATION.md**: æŠ€æœ¯æ–‡æ¡£
- **README.md**: æœåŠ¡è¯´æ˜ï¼ˆå¯é€‰ï¼‰
- **CHANGELOG.md**: ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ï¼ˆå¯é€‰ï¼‰

### 5. æ—¥å¿—æ ‡å‡†åŒ–

```javascript
// ç»Ÿä¸€æ—¥å¿—æ ¼å¼
const logFormat = {
  timestamp: new Date().toISOString(),
  level: 'info|warn|error|debug',
  service: 'service-name',
  message: 'log message',
  data: {}, // é¢å¤–æ•°æ®
  requestId: 'request-id', // è¯·æ±‚è¿½è¸ªID
  userId: 'user-id' // ç”¨æˆ·ID
};
```

## ğŸ§¹ æ¸…ç†è§„èŒƒ

### éœ€è¦æ¸…ç†çš„æ–‡ä»¶ç±»å‹

1. **é‡å¤æ–‡ä»¶**: å¤šä¸ªä½ç½®çš„ç›¸åŒåŠŸèƒ½æ–‡ä»¶
2. **è¿‡æ—¶æ–‡ä»¶**: å·²ä¸å†ä½¿ç”¨çš„æ—§ç‰ˆæœ¬æ–‡ä»¶
3. **ä¸´æ—¶æ–‡ä»¶**: å¼€å‘è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶
4. **å¤‡ä»½æ–‡ä»¶**: `.bak`, `.backup`, `.old` ç­‰åç¼€æ–‡ä»¶
5. **ç³»ç»Ÿæ–‡ä»¶**: `.DS_Store`, `.gitignore` ç­‰
6. **æ— å…³æ–‡ä»¶**: ä¸å½“å‰é¡¹ç›®ä¸ç›¸å…³çš„æ–‡ä»¶

### ä¿ç•™çš„æ ¸å¿ƒæ–‡ä»¶

1. **é…ç½®æ–‡ä»¶**: `.env.example`, `package.json`
2. **å…¥å£æ–‡ä»¶**: `server.js`, `index.js`
3. **æ–‡æ¡£æ–‡ä»¶**: `*.md`, `*.json`
4. **è„šæœ¬æ–‡ä»¶**: `*.sh`, `*.js`
5. **æ¨¡æ¿æ–‡ä»¶**: `*.html`, `*.hbs`

## ğŸ”„ æ ‡å‡†åŒ–æ‰§è¡Œæ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šç›®å½•æ ‡å‡†åŒ–

1. ç»Ÿä¸€æœåŠ¡ç›®å½•ç»“æ„
2. é‡å‘½åä¸è§„èŒƒçš„æ–‡ä»¶å’Œç›®å½•
3. ç§»é™¤é‡å¤å’Œå†—ä½™æ–‡ä»¶

### ç¬¬äºŒé˜¶æ®µï¼šé…ç½®æ ‡å‡†åŒ–

1. ç»Ÿä¸€ç¯å¢ƒå˜é‡å‘½å
2. æ ‡å‡†åŒ–ç«¯å£åˆ†é…
3. ç»Ÿä¸€é…ç½®æ–‡ä»¶æ ¼å¼

### ç¬¬ä¸‰é˜¶æ®µï¼šä»£ç æ ‡å‡†åŒ–

1. ç»Ÿä¸€ä»£ç é£æ ¼å’Œæ ¼å¼
2. æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
3. å®ç°ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

### ç¬¬å››é˜¶æ®µï¼šéƒ¨ç½²æ ‡å‡†åŒ–

1. ç»Ÿä¸€Dockeré…ç½®
2. æ ‡å‡†åŒ–Kubernetesé…ç½®
3. ç»Ÿä¸€éƒ¨ç½²è„šæœ¬

## ğŸ“Š æ ‡å‡†åŒ–æ£€æŸ¥æ¸…å•

### ç›®å½•ç»“æ„æ£€æŸ¥

- [ ] æ¯ä¸ªæœåŠ¡éƒ½æœ‰æ ‡å‡†çš„ç›®å½•ç»“æ„
- [ ] æ–‡ä»¶å‘½åç¬¦åˆè§„èŒƒ
- [ ] ç›®å½•å‘½åç¬¦åˆè§„èŒƒ
- [ ] ç§»é™¤äº†ä¸å¿…è¦çš„æ–‡ä»¶

### é…ç½®æ£€æŸ¥

- [ ] ç¯å¢ƒå˜é‡å‘½åè§„èŒƒ
- [ ] ç«¯å£åˆ†é…åˆç†ä¸”ä¸å†²çª
- [ ] é…ç½®æ–‡ä»¶æ ¼å¼ç»Ÿä¸€

### ä»£ç æ£€æŸ¥

- [ ] ç»Ÿä¸€çš„ä»£ç é£æ ¼
- [ ] å®Œæ•´çš„é”™è¯¯å¤„ç†
- [ ] é€‚å½“çš„æ—¥å¿—è®°å½•

### éƒ¨ç½²æ£€æŸ¥

- [ ] Dockeré…ç½®å®Œæ•´
- [ ] Kubernetesé…ç½®æ­£ç¡®
- [ ] å¥åº·æ£€æŸ¥å¯ç”¨

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [Express.js Style Guide](https://github.com/expressjs/expressjs.com)
- [Dockerfile Best Practices](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)

---

## ğŸ“„ æ–‡æ¡£æ ‡å°¾ (Footer)

---

> ã€Œ***YanYuCloudCube***ã€
> ã€Œ***<admin@0379.email>***ã€
> ã€Œ***Words Initiate Quadrants, Language Serves as Core for the Future***ã€
> ã€Œ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***ã€
