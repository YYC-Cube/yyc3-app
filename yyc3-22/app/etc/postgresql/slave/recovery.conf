# PostgreSQL recovery configuration file for slave server
# This file is used to configure streaming replication from master to slave

# -----------------------------
# Replication Configuration
# -----------------------------

# Enable standby mode
standby_mode = 'on'

# Connection information for the master server
# Format: host=master_host port=master_port user=replication_user password=replication_password
primary_conninfo = 'host=postgres-master port=5432 user=admin password=password'

# Replication slot name - must be created on the master server
primary_slot_name = 'yyc3_slave_slot'

# Recovery target settings
recovery_target_timeline = 'latest'

# -----------------------------
# WAL Archive Configuration
# -----------------------------

# Command to archive WAL files
# archive_command = 'cp %p /var/lib/postgresql/data/archive/%f'

# Command to retrieve WAL files from archive
# restore_command = 'cp /var/lib/postgresql/data/archive/%f %p'

# -----------------------------
# Recovery Behavior
# -----------------------------

# Automatically start serving read-only queries after recovery
hot_standby = on

# Maximum delay allowed when applying changes from the master
max_standby_streaming_delay = 30s

# Frequency of sending status updates to the master
wal_receiver_status_interval = 10s

# Send feedback about hot standby queries to the master
hot_standby_feedback = on
