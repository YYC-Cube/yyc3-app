# 上传文件

> 上传用于 `Batch 任务`、`智能体` 等功能的文件。注意 `Try it` 功能仅支持小文件上传，实际支持的文件大小请参见下文 `purpose` 相关说明。

## OpenAPI

````yaml openapi/openapi.json post /paas/v4/files
paths:
  path: /paas/v4/files
  method: post
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      multipart/form-data:
        schemaArray:
          - type: object
            properties:
              file:
                allOf:
                  - type: string
                    format: binary
                    description: 要上传的文件
              purpose:
                allOf:
                  - type: string
                    enum:
                      - batch
                      - code-interpreter
                      - agent
                      - voice-clone-input
                    description: >-
                      文件的预期用途。

                      `batch`：用于批量任务处理，支持 `.jsonl` 文件格式，，单个文件大小限制为`100
                      MB`，文件数不超过 `1000` 个。`Batch`指南。

                      `code-interpreter`：文件上传给代码沙盒`CI`使用，支持的格式包括：`pdf、docx、doc、xls、xlsx、txt、png、jpg、jpeg、csv`，单个文件大小限制为
                      `20M`，图片大小不超过`5M`，文件数不超过 `100` 个。

                      `agent`：用于智能体文件上传，支持的格式包括：`pdf、docx、doc、xls、xlsx、txt、png、jpg、jpeg、csv`，单个文件大小限制为
                      `20M`，图片大小不超过`5M`，文件数不超过 `1000` 个。

                      `voice-clone-input`: 用于音色克隆功能示例音频文件的上传。支持的格式包括`mp3、wav`
            required: true
            refIdentifier: '#/components/schemas/FileUploadRequest'
            requiredProperties:
              - file
              - purpose
        examples:
          example:
            value:
              purpose: batch
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              id:
                allOf:
                  - type: string
                    description: 文件标识符
              object:
                allOf:
                  - type: string
                    enum:
                      - file
              bytes:
                allOf:
                  - type: integer
                    description: 文件大小（字节）
              created_at:
                allOf:
                  - type: integer
                    description: 文件创建的`Unix`时间戳
              filename:
                allOf:
                  - type: string
                    description: 文件名
              purpose:
                allOf:
                  - type: string
                    description: 文件的预期用途
            refIdentifier: '#/components/schemas/FileObject'
        examples:
          example:
            value:
              id: <string>
              object: file
              bytes: 123
              created_at: 123
              filename: <string>
              purpose: <string>
        description: 业务处理成功
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: 请求失败。
  deprecated: false
  type: path
components:
  schemas: {}

````