# 列出批处理任务

> 获取批量处理任务列表，支持分页。见 [批量服务](/cn/guide/tools/batch)

## OpenAPI

````yaml openapi/openapi.json get /paas/v4/batches
paths:
  path: /paas/v4/batches
  method: get
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query:
        after:
          schema:
            - type: string
              description: 分页游标，用于获取指定ID之后的结果
        limit:
          schema:
            - type: integer
              description: 返回结果的最大数量
              default: 20
      header: {}
      cookie: {}
    body: {}
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              object:
                allOf:
                  - type: string
                    enum:
                      - list
              data:
                allOf:
                  - type: array
                    items:
                      $ref: '#/components/schemas/Batch'
              first_id:
                allOf:
                  - type: string
                    description: 第一个`ID`
              last_id:
                allOf:
                  - type: string
                    description: 最后一个`ID`
              has_more:
                allOf:
                  - type: boolean
                    description: 是否有更多数据
            refIdentifier: '#/components/schemas/BatchListResponse'
        examples:
          example:
            value:
              object: list
              data:
                - id: <string>
                  object: <string>
                  endpoint: <string>
                  input_file_id: <string>
                  completion_window: <string>
                  status: <string>
                  output_file_id: <string>
                  error_file_id: <string>
                  created_at: 123
                  in_progress_at: 123
                  expires_at: 123
                  finalizing_at: 123
                  completed_at: 123
                  failed_at: 123
                  expired_at: 123
                  cancelling_at: 123
                  cancelled_at: 123
                  request_counts: 123
                  total: 123
                  completed: 123
                  failed: 123
                  metadata: {}
              first_id: <string>
              last_id: <string>
              has_more: true
        description: 业务处理成功
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: 请求失败。
  deprecated: false
  type: path
components:
  schemas:
    Batch:
      type: object
      properties:
        id:
          type: string
          description: 批处理的唯一标识符。
        object:
          type: string
          description: 对象类型，这里为 `batch`。
        endpoint:
          type: string
          description: 批处理使用的 `API` 端点。
        input_file_id:
          type: string
          description: 批处理使用的输入文件的`ID`。
        completion_window:
          type: string
          description: 批处理应在此时间框架内完成的期限。
        status:
          type: string
          description: 批处理的当前状态。
        output_file_id:
          type: string
          description: 包含成功执行请求的输出的文件`ID`。
        error_file_id:
          type: string
          description: 包含出现错误的请求的输出的文件`ID`。
        created_at:
          type: integer
          description: 创建批处理的`Unix`时间戳（秒）。
        in_progress_at:
          type: integer
          description: 批处理开始处理的`Unix`时间戳（秒）。
        expires_at:
          type: integer
          description: 批处理将过期的`Unix`时间戳（秒）。
        finalizing_at:
          type: integer
          description: 批处理开始最终处理的`Unix`时间戳（秒）。
        completed_at:
          type: integer
          description: 批处理完成的`Unix`时间戳（秒）。
        failed_at:
          type: integer
          description: 批处理失败的`Unix`时间戳（秒）。
        expired_at:
          type: integer
          description: 批处理过期的`Unix`时间戳（秒）。
        cancelling_at:
          type: integer
          description: 批处理开始取消的`Unix`时间戳（秒）。
        cancelled_at:
          type: integer
          description: 批处理取消完成的`Unix`时间戳（秒）。
        request_counts:
          type: integer
          description: batch 请求计数。
        total:
          type: integer
          description: 批处理中的请求总数。
        completed:
          type: integer
          description: 批处理中已成功完成的请求数量。
        failed:
          type: integer
          description: 批处理中失败的请求数量。
        metadata:
          type: object
          description: >-
            可附加到对象上的 `16` 个键值对的集合。这有助于以结构化格式存储对象的附加信息。键的长度最多为 `64` 个字符，值的长度最多为
            `512` 个字符。

````