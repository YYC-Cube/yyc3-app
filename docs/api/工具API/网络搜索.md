# 网络搜索

> `Web Search API` 是一个专给大模型用的搜索引擎，在传统搜索引擎网页抓取、排序的能力基础上，增强了意图识别能力，返回更适合大模型处理的结果（网页标题、`URL`、摘要、名称、图标等）。支持意图增强检索、结构化输出和多引擎支持。见 [网络搜索服务](/cn/guide/tools/web–search)

## OpenAPI

````yaml openapi/openapi.json post /paas/v4/web_search
paths:
  path: /paas/v4/web_search
  method: post
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      application/json:
        schemaArray:
          - type: object
            properties:
              search_query:
                allOf:
                  - type: string
                    description: 需要进行搜索的内容，建议搜索 `query` 不超过 `70` 个字符。
                    maxLength: 70
              search_engine:
                allOf:
                  - type: string
                    description: |-
                      要调用的搜索引擎编码。目前支持：
                      `search_std`：智谱基础版搜索引擎
                      `search_pro`：智谱高阶版搜索引擎
                      `search_pro_sogou`：搜狗
                      `search_pro_quark`：夸克搜索
                    example: search_std
                    enum:
                      - search_std
                      - search_pro
                      - search_pro_sogou
                      - search_pro_quark
              search_intent:
                allOf:
                  - type: boolean
                    description: |-
                      是否进行搜索意图识别，默认不执行搜索意图识别。
                      `true`：执行搜索意图识别，有搜索意图后执行搜索
                      `false`：跳过搜索意图识别，直接执行搜索
                    default: false
              count:
                allOf:
                  - type: integer
                    description: |-
                      返回结果的条数。可填范围：`1-50`，最大单次搜索返回`50`条，默认为`10`。
                      支持的搜索引擎：`search_pro_sogou`、`search_std`、`search_pro`
                      `search_pro_sogou`: 可选枚举值，10、20、30、40、50
                    minimum: 1
                    maximum: 50
                    default: 10
              search_domain_filter:
                allOf:
                  - type: string
                    description: |-
                      用于限定搜索结果的范围，仅返回指定白名单域名的内容。
                      白名单域名:（如 `www.example.com`）
                      支持的搜索引擎：`search_std、search_pro 、search_pro_sogou`
              search_recency_filter:
                allOf:
                  - type: string
                    description: >-
                      搜索指定时间范围内的网页。默认为
                      `noLimit`。可填值：`oneDay`（一天内）、`oneWeek`（一周内）、`oneMonth`（一个月内）、`oneYear`（一年内）、`noLimit`（不限，默认）。支持的搜索引擎：`search_std、search_pro、search_pro_Sogou、search_pro_quark`
                    default: noLimit
                    enum:
                      - oneDay
                      - oneWeek
                      - oneMonth
                      - oneYear
                      - noLimit
              content_size:
                allOf:
                  - type: string
                    description: >-
                      控制返回网页内容的长短。`medium`：返回摘要信息，满足大模型的基础推理需求，满足常规问答任务的信息检索需求。`high`：最大化上下文，信息量较大但内容详细，适合需要信息细节的场景。支持的搜索引擎：`search_std、search_pro、search_pro_Sogou、search_pro_quark`
                    enum:
                      - medium
                      - high
              request_id:
                allOf:
                  - type: string
                    description: 由用户端传递，需要唯一；用于区分每次请求的唯一标识符。如果用户端未提供，平台将默认生成。
              user_id:
                allOf:
                  - type: string
                    description: >-
                      终端用户的唯一`ID`，帮助平台对终端用户的非法活动、生成非法不当信息或其他滥用行为进行干预。`ID`长度要求：至少`6`个字符，最多`128`个字符。
                    minLength: 6
                    maxLength: 128
            required: true
            refIdentifier: '#/components/schemas/WebSearchRequest'
            requiredProperties:
              - search_query
              - search_engine
              - search_intent
        examples:
          example:
            value:
              search_query: <string>
              search_engine: search_std
              search_intent: false
              count: 10
              search_domain_filter: <string>
              search_recency_filter: noLimit
              content_size: medium
              request_id: <string>
              user_id: <string>
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              id:
                allOf:
                  - type: string
                    description: 任务 ID
              created:
                allOf:
                  - type: integer
                    description: 请求创建时间，是以秒为单位的 `Unix` 时间戳
              request_id:
                allOf:
                  - type: string
                    description: 请求标识符
              search_intent:
                allOf:
                  - type: array
                    description: 搜索意图结果
                    items:
                      type: object
                      properties:
                        query:
                          type: string
                          description: 原始搜索query
                        intent:
                          type: string
                          description: >-
                            识别的意图类型。`SEARCH_ALL` = 搜索全网，`SEARCH_NONE` =
                            无搜索意图，`SEARCH_ALWAYS` =
                            强制搜索模式：当`search_intent=false`时返回此值
                          enum:
                            - SEARCH_ALL
                            - SEARCH_NONE
                            - SEARCH_ALWAYS
                        keywords:
                          type: string
                          description: 改写后的搜索关键词
              search_result:
                allOf:
                  - type: array
                    description: 搜索结果
                    items:
                      type: object
                      properties:
                        title:
                          type: string
                          description: 标题
                        content:
                          type: string
                          description: 内容摘要
                        link:
                          type: string
                          description: 结果链接
                        media:
                          type: string
                          description: 网站名称
                        icon:
                          type: string
                          description: 网站图标
                        refer:
                          type: string
                          description: 角标序号
                        publish_date:
                          type: string
                          description: 网站发布时间
            refIdentifier: '#/components/schemas/WebSearchResponse'
        examples:
          example:
            value:
              id: <string>
              created: 123
              request_id: <string>
              search_intent:
                - query: <string>
                  intent: SEARCH_ALL
                  keywords: <string>
              search_result:
                - title: <string>
                  content: <string>
                  link: <string>
                  media: <string>
                  icon: <string>
                  refer: <string>
                  publish_date: <string>
        description: 业务处理成功
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: >-
          请求失败。可能的错误码：1701-网络搜索并发已达上限，请稍后重试或减少并发请求；1702-系统未找到可用的搜索引擎服务，请检查配置或联系管理员；1703-搜索引擎未返回有效数据，请调整查询条件。
  deprecated: false
  type: path
components:
  schemas: {}

````