# 网页阅读

> 读取并解析指定 `URL` 的网页内容，可选择返回格式、支持控制缓存、图片保留与摘要选项等。

## OpenAPI

````yaml openapi/openapi.json post /paas/v4/reader
paths:
  path: /paas/v4/reader
  method: post
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      application/json:
        schemaArray:
          - type: object
            properties:
              url:
                allOf:
                  - type: string
                    description: 需要抓取的`url`
              timeout:
                allOf:
                  - type: integer
                    description: 请求超时时间（秒），默认值 `20`
                    default: 20
              no_cache:
                allOf:
                  - type: boolean
                    description: 是否禁用缓存（`true`/`false`），默认值 `false`
                    default: false
              return_format:
                allOf:
                  - type: string
                    description: 返回格式（如：`markdown`、`text`等），默认值 `markdown`
                    default: markdown
              retain_images:
                allOf:
                  - type: boolean
                    description: 是否保留图片（`true`/`false`），默认值 `true`
                    default: true
              no_gfm:
                allOf:
                  - type: boolean
                    description: >-
                      是否禁用 `GitHub Flavored Markdown`（`true`/`false`），默认值
                      `false`
                    default: false
              keep_img_data_url:
                allOf:
                  - type: boolean
                    description: 是否保留图片数据 `URL`（`true`/`false`），默认值 `false`
                    default: false
              with_images_summary:
                allOf:
                  - type: boolean
                    description: 是否包含图片摘要（`true`/`false`），默认值 `false`
                    default: false
              with_links_summary:
                allOf:
                  - type: boolean
                    description: 是否包含链接摘要（`true`/`false`），默认值 `false`
                    default: false
            required: true
            refIdentifier: '#/components/schemas/ReaderRequest'
            requiredProperties:
              - url
        examples:
          Basic:
            value:
              url: https://www.example.com
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              id:
                allOf:
                  - type: string
                    description: 任务 `ID`
              created:
                allOf:
                  - type: integer
                    format: int64
                    description: 请求创建时间，是以秒为单位的 `Unix` 时间戳
              request_id:
                allOf:
                  - type: string
                    description: 由用户端传递，需要唯一；用于区分每次请求的唯一标识符。如果用户端未提供，平台将默认生成。
              model:
                allOf:
                  - type: string
                    description: 模型编码
              reader_result:
                allOf:
                  - type: object
                    description: 网页阅读结果
                    properties:
                      content:
                        type: string
                        description: 网页解析后的主要内容（正文、图片、链接等标记）
                      description:
                        type: string
                        description: 网页简要描述
                      title:
                        type: string
                        description: 网页标题
                      url:
                        type: string
                        description: 网页原始地址
                      external:
                        type: object
                        description: 网页引用的外部资源对象
                        properties:
                          stylesheet:
                            type: object
                            description: 外部样式表集合
                            additionalProperties:
                              type: object
                              properties:
                                type:
                                  type: string
                                  description: 样式表类型，通常为`text/css`
                      metadata:
                        type: object
                        description: 页面元数据信息
                        properties:
                          keywords:
                            type: string
                            description: 页面关键词
                          viewport:
                            type: string
                            description: 页面视口设置
                          description:
                            type: string
                            description: 元数据描述
                          format-detection:
                            type: string
                            description: 格式检测设置，如`telephone=no`
            refIdentifier: '#/components/schemas/ReaderResponse'
        examples:
          example:
            value:
              id: <string>
              created: 123
              request_id: <string>
              model: <string>
              reader_result:
                content: <string>
                description: <string>
                title: <string>
                url: <string>
                external:
                  stylesheet: {}
                metadata:
                  keywords: <string>
                  viewport: <string>
                  description: <string>
                  format-detection: <string>
        description: 业务处理成功
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: 请求失败。
  deprecated: false
  type: path
components:
  schemas: {}
