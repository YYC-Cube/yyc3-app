# 文本转语音

> 使用 `CogTTS` 将文本转换为自然语音，支持多种声音、情感控制和语调调整。

## OpenAPI

````yaml openapi/openapi.json post /paas/v4/audio/speech
paths:
  path: /paas/v4/audio/speech
  method: post
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      application/json:
        schemaArray:
          - type: object
            properties:
              model:
                allOf:
                  - type: string
                    enum:
                      - cogtts
                    default: cogtts
                    description: 要使用的`TTS`模型
              input:
                allOf:
                  - type: string
                    description: 要转换为语音的文本
                    default: 你好，今天天气怎么样
                    maxLength: 1024
              voice:
                allOf:
                  - type: string
                    enum:
                      - tongtong
                      - chuichui
                      - xiaochen
                      - jam
                      - kazi
                      - douji
                      - luodo
                    default: tongtong
                    description: |-
                      生成音频时使用的音色，支持系统音色以及复刻音色两种类型，其中系统音色如下：
                      `tongtong`: 彤彤，默认音色
                      `chuichui`: 锤锤
                      `xiaochen`: 小陈
                      `jam`: 动动动物圈`jam`音色
                      `kazi`: 动动动物圈`kazi`音色
                      `douji`: 动动动物圈`douji`音色
                      `luodo`: 动动动物圈`luodo`音色
              stream:
                allOf:
                  - type: boolean
                    default: false
                    description: |-
                      是否启用流式输出。
                      - `true`: 启用流式输出，模型将通过标准`Event Stream`逐块返回生成的音频内容。
                      - `false`: 关闭流式输出，模型在生成所有内容后一次性返回所有内容。默认值为`false`。
              speed:
                allOf:
                  - type: number
                    description: 语速，默认1.0，取值范围[0.5, 2]
              volume:
                allOf:
                  - type: number
                    description: 音量，默认1.0，取值范围(0, 10]
              encode_format:
                allOf:
                  - type: string
                    enum:
                      - base64
                      - hex
                    description: 仅流式返回时，决定返回的编码格式。默认返回对应音频文件格式的`base64`字符串。
              response_format:
                allOf:
                  - type: string
                    enum:
                      - wav
                      - pcm
                    default: pcm
                    description: 音频输出格式，默认返回`pcm`格式的文件。流式生成音频时，仅支持返回`pcm`格式的文件
              watermark_enabled:
                allOf:
                  - type: boolean
                    description: |-
                      控制`AI`生成音频时是否添加水印。
                       - `true`: 默认启用`AI`生成的显式水印及隐式数字水印，符合政策要求。
                       - `false`: 关闭所有水印，仅允许已签署免责声明的客户使用，签署路径：个人中心-安全管理-去水印管理
                    example: true
            required: true
            refIdentifier: '#/components/schemas/AudioSpeechRequest'
            requiredProperties:
              - model
              - input
              - voice
        examples:
          文本转语音示例:
            value:
              model: cogtts
              input: 你好，今天天气怎么样.
              voice: tongtong
              response_format: wav
  response:
    '200':
      audio/wav:
        schemaArray:
          - type: file
            contentEncoding: binary
        examples:
          example: {}
        description: |-
          业务处理成功
           - 采样率建议设置为24000
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: 请求失败。
  deprecated: false
  type: path
components:
  schemas: {}

````