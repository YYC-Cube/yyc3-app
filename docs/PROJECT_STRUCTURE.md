# 0379.email é¡¹ç›®æ ‡å‡†åŒ–æ¶æ„

## ğŸ“ æ ‡å‡†åŒ–ç›®å½•ç»“æ„

```
/Users/yanyu/www/                          # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ README.md                               # é¡¹ç›®ä¸»è¦è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                                 # å¼€æºè®¸å¯è¯
â”œâ”€â”€ CONTRIBUTING.md                         # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ CHANGELOG.md                            # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ SECURITY.md                             # å®‰å…¨æ”¿ç­–
â”œâ”€â”€ CODE_OF_CONDUCT.md                      # è¡Œä¸ºå‡†åˆ™
â”œâ”€â”€ .gitignore                              # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml                      # ä¸»è¦Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ docker-compose.prod.yml                 # ç”Ÿäº§ç¯å¢ƒDockerç¼–æ’
â”œâ”€â”€ docker-compose.dev.yml                  # å¼€å‘ç¯å¢ƒDockerç¼–æ’
â”œâ”€â”€ Makefile                                # é¡¹ç›®æ„å»ºå’Œéƒ¨ç½²å‘½ä»¤
â”‚
â”œâ”€â”€ configs/                                # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ docker/                            # Dockerç›¸å…³é…ç½®
â”‚   â”‚   â”œâ”€â”€ Dockerfile.api                 # APIæœåŠ¡Dockerfile
â”‚   â”‚   â”œâ”€â”€ Dockerfile.admin               # ç®¡ç†é¢æ¿Dockerfile
â”‚   â”‚   â”œâ”€â”€ Dockerfile.llm                 # LLMæœåŠ¡Dockerfile
â”‚   â”‚   â”œâ”€â”€ Dockerfile.mail                # é‚®ä»¶æœåŠ¡Dockerfile
â”‚   â”‚   â””â”€â”€ Dockerfile.wiki                # WikiæœåŠ¡Dockerfile
â”‚   â”œâ”€â”€ nginx/                             # Nginxé…ç½®
â”‚   â”‚   â”œâ”€â”€ nginx.conf                     # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ sites-available/              # ç«™ç‚¹é…ç½®
â”‚   â”‚   â”œâ”€â”€ ssl/                          # SSLè¯ä¹¦
â”‚   â”‚   â””â”€â”€ security/                     # å®‰å…¨é…ç½®
â”‚   â”œâ”€â”€ redis/                             # Redisé…ç½®
â”‚   â”‚   â”œâ”€â”€ redis.conf                     # ä¸»é…ç½®
â”‚   â”‚   â”œâ”€â”€ redis-dev.conf                # å¼€å‘ç¯å¢ƒ
â”‚   â”‚   â”œâ”€â”€ redis-prod.conf               # ç”Ÿäº§ç¯å¢ƒ
â”‚   â”‚   â””â”€â”€ sentinel.conf                  # å“¨å…µæ¨¡å¼é…ç½®
â”‚   â”œâ”€â”€ postgres/                          # PostgreSQLé…ç½®
â”‚   â”‚   â”œâ”€â”€ postgresql.conf               # ä¸»é…ç½®
â”‚   â”‚   â”œâ”€â”€ pg_hba.conf                   # è®¤è¯é…ç½®
â”‚   â”‚   â””â”€â”€ init.sql                      # åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ mongodb/                           # MongoDBé…ç½®
â”‚   â”‚   â”œâ”€â”€ mongod.conf                   # ä¸»é…ç½®
â”‚   â”‚   â””â”€â”€ init.js                       # åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ ssl/                              # SSL/TLSè¯ä¹¦
â”‚   â”‚   â”œâ”€â”€ 0379.email/                   # åŸŸåè¯ä¹¦
â”‚   â”‚   â”œâ”€â”€ api.0379.email/               # APIå­åŸŸåè¯ä¹¦
â”‚   â”‚   â””â”€â”€ admin.0379.email/             # ç®¡ç†é¢æ¿è¯ä¹¦
â”‚   â””â”€â”€ environments/                      # ç¯å¢ƒé…ç½®
â”‚       â”œâ”€â”€ .env.example                   # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚       â”œâ”€â”€ .env.development              # å¼€å‘ç¯å¢ƒ
â”‚       â”œâ”€â”€ .env.staging                  # æµ‹è¯•ç¯å¢ƒ
â”‚       â””â”€â”€ .env.production               # ç”Ÿäº§ç¯å¢ƒ
â”‚
â”œâ”€â”€ services/                              # å¾®æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ api/                              # ä¸»APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ package.json                  # ä¾èµ–é…ç½®
â”‚   â”‚   â”œâ”€â”€ server.js                     # æœåŠ¡å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/                       # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ middleware/                   # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ controllers/                  # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/                     # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ tests/                        # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ docs/                         # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ admin/                            # ç®¡ç†é¢æ¿æœåŠ¡
â”‚   â”œâ”€â”€ llm/                              # AI/LLMæœåŠ¡
â”‚   â”œâ”€â”€ mail/                             # é‚®ä»¶æœåŠ¡
â”‚   â”œâ”€â”€ wiki/                             # WikiæœåŠ¡
â”‚   â””â”€â”€ shared/                           # å…±äº«æ¨¡å—
â”‚       â”œâ”€â”€ database/                     # æ•°æ®åº“è¿æ¥
â”‚       â”œâ”€â”€ auth/                         # è®¤è¯æ¨¡å—
â”‚       â”œâ”€â”€ logger/                       # æ—¥å¿—æ¨¡å—
â”‚       â”œâ”€â”€ cache/                        # ç¼“å­˜æ¨¡å—
â”‚       â””â”€â”€ utils/                        # å…±äº«å·¥å…·
â”‚
â”œâ”€â”€ infrastructure/                         # åŸºç¡€è®¾æ–½é…ç½®
â”‚   â”œâ”€â”€ monitoring/                       # ç›‘æ§é…ç½®
â”‚   â”‚   â”œâ”€â”€ prometheus/                   # Prometheusé…ç½®
â”‚   â”‚   â”œâ”€â”€ grafana/                      # Grafanaé…ç½®
â”‚   â”‚   â”œâ”€â”€ alertmanager/                 # å‘Šè­¦ç®¡ç†
â”‚   â”‚   â””â”€â”€ dashboards/                   # ç›‘æ§é¢æ¿
â”‚   â”œâ”€â”€ security/                         # å®‰å…¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ firewall/                     # é˜²ç«å¢™è§„åˆ™
â”‚   â”‚   â”œâ”€â”€ fail2ban/                     # å…¥ä¾µæ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ ssl/                          # SSLé…ç½®
â”‚   â”‚   â””â”€â”€ certificates/                 # è¯ä¹¦ç®¡ç†
â”‚   â”œâ”€â”€ backup/                           # å¤‡ä»½é…ç½®
â”‚   â”‚   â”œâ”€â”€ scripts/                      # å¤‡ä»½è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ schedules/                    # å¤‡ä»½è®¡åˆ’
â”‚   â”‚   â””â”€â”€ storage/                      # å¤‡ä»½å­˜å‚¨
â”‚   â”œâ”€â”€ network/                          # ç½‘ç»œé…ç½®
â”‚   â”‚   â”œâ”€â”€ frp/                          # FRPéš§é“é…ç½®
â”‚   â”‚   â”œâ”€â”€ vpn/                          # VPNé…ç½®
â”‚   â”‚   â””â”€â”€ dns/                          # DNSé…ç½®
â”‚   â””â”€â”€ scripts/                          # è¿ç»´è„šæœ¬
â”‚       â”œâ”€â”€ deploy.sh                     # éƒ¨ç½²è„šæœ¬
â”‚       â”œâ”€â”€ backup.sh                     # å¤‡ä»½è„šæœ¬
â”‚       â”œâ”€â”€ monitor.sh                    # ç›‘æ§è„šæœ¬
â”‚       â”œâ”€â”€ security.sh                   # å®‰å…¨è„šæœ¬
â”‚       â””â”€â”€ maintenance.sh                # ç»´æŠ¤è„šæœ¬
â”‚
â”œâ”€â”€ docs/                                  # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ api/                              # APIæ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ openapi.yaml                  # OpenAPIè§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ postman/                      # Postmané›†åˆ
â”‚   â”‚   â””â”€â”€ README.md                     # APIæ–‡æ¡£è¯´æ˜
â”‚   â”œâ”€â”€ deployment/                       # éƒ¨ç½²æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ production.md                 # ç”Ÿäº§éƒ¨ç½²
â”‚   â”‚   â”œâ”€â”€ development.md                # å¼€å‘éƒ¨ç½²
â”‚   â”‚   â”œâ”€â”€ docker.md                     # Dockeréƒ¨ç½²
â”‚   â”‚   â””â”€â”€ kubernetes.md                 # K8séƒ¨ç½²
â”‚   â”œâ”€â”€ operations/                       # è¿ç»´æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ monitoring.md                 # ç›‘æ§æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ backup.md                     # å¤‡ä»½æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ security.md                   # å®‰å…¨æŒ‡å—
â”‚   â”‚   â””â”€â”€ troubleshooting.md            # æ•…éšœæ’é™¤
â”‚   â”œâ”€â”€ architecture/                     # æ¶æ„æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ system-design.md              # ç³»ç»Ÿè®¾è®¡
â”‚   â”‚   â”œâ”€â”€ microservices.md              # å¾®æœåŠ¡æ¶æ„
â”‚   â”‚   â”œâ”€â”€ database.md                   # æ•°æ®åº“è®¾è®¡
â”‚   â”‚   â””â”€â”€ security.md                   # å®‰å…¨æ¶æ„
â”‚   â”œâ”€â”€ wiki/                             # Wikiç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ Home.md                       # Wikié¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ UserGuide/                    # ç”¨æˆ·æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ DeveloperGuide/               # å¼€å‘æŒ‡å—
â”‚   â”‚   â””â”€â”€ AdminGuide/                   # ç®¡ç†æŒ‡å—
â”‚   â””â”€â”€ assets/                           # æ–‡æ¡£èµ„æº
â”‚       â”œâ”€â”€ images/                       # å›¾ç‰‡èµ„æº
â”‚       â”œâ”€â”€ diagrams/                     # æ¶æ„å›¾
â”‚       â””â”€â”€ templates/                    # æ–‡æ¡£æ¨¡æ¿
â”‚
â”œâ”€â”€ tests/                                 # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ unit/                             # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/                      # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/                              # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ performance/                      # æ€§èƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ security/                         # å®‰å…¨æµ‹è¯•
â”‚   â””â”€â”€ fixtures/                         # æµ‹è¯•æ•°æ®
â”‚
â”œâ”€â”€ .github/                               # GitHubé…ç½®
â”‚   â”œâ”€â”€ workflows/                        # CI/CDå·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ ci.yml                        # æŒç»­é›†æˆ
â”‚   â”‚   â”œâ”€â”€ cd.yml                        # æŒç»­éƒ¨ç½²
â”‚   â”‚   â”œâ”€â”€ security.yml                  # å®‰å…¨æ‰«æ
â”‚   â”‚   â””â”€â”€ release.yml                   # å‘å¸ƒæµç¨‹
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/                   # Issueæ¨¡æ¿
â”‚   â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md          # PRæ¨¡æ¿
â”‚   â””â”€â”€ dependabot.yml                    # ä¾èµ–æ›´æ–°
â”‚
â”œâ”€â”€ keys/                                  # å¯†é’¥å’Œè¯ä¹¦
â”‚   â”œâ”€â”€ ssl/                              # SSLè¯ä¹¦
â”‚   â”œâ”€â”€ ssh/                              # SSHå¯†é’¥
â”‚   â”œâ”€â”€ secrets/                          # å¯†é’¥æ–‡ä»¶
â”‚   â””â”€â”€ certificates/                     # è¯ä¹¦æ–‡ä»¶
â”‚
â”œâ”€â”€ logs/                                  # æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ app/                              # åº”ç”¨æ—¥å¿—
â”‚   â”œâ”€â”€ nginx/                            # Nginxæ—¥å¿—
â”‚   â”œâ”€â”€ database/                         # æ•°æ®åº“æ—¥å¿—
â”‚   â”œâ”€â”€ security/                         # å®‰å…¨æ—¥å¿—
â”‚   â””â”€â”€ monitoring/                       # ç›‘æ§æ—¥å¿—
â”‚
â”œâ”€â”€ tmp/                                   # ä¸´æ—¶æ–‡ä»¶
â””â”€â”€ .git/                                 # Gitä»“åº“
```

## ğŸ”§ æœåŠ¡ç«¯å£åˆ†é…

### åº”ç”¨æœåŠ¡ç«¯å£

- **APIæœåŠ¡**: 3000
- **ç®¡ç†é¢æ¿**: 3001
- **LLMæœåŠ¡**: 3002
- **é‚®ä»¶æœåŠ¡**: 3003
- **WikiæœåŠ¡**: 3004

### æ•°æ®åº“ç«¯å£

- **Redis**: 6379
- **MongoDB**: 27017
- **PostgreSQL**: 5432

### åŸºç¡€è®¾æ–½ç«¯å£

- **Nginx HTTP**: 80
- **Nginx HTTPS**: 443
- **Prometheus**: 9090
- **Grafana**: 3001
- **FRP Server**: 7000
- **FRP Client**: 7400

## ğŸ“‹ æ–‡ä»¶å‘½åè§„èŒƒ

### ç›®å½•å‘½å

- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼š`service-name`
- é…ç½®ç›®å½•ï¼š`configs/`
- æœåŠ¡ç›®å½•ï¼š`services/`
- åŸºç¡€è®¾æ–½ï¼š`infrastructure/`

### æ–‡ä»¶å‘½å

- é…ç½®æ–‡ä»¶ï¼š`service-name.conf`
- ç¯å¢ƒæ–‡ä»¶ï¼š`.env.environment`
- Dockerfileï¼š`Dockerfile.service`
- è„šæœ¬æ–‡ä»¶ï¼š`action-description.sh`

### æ–‡æ¡£å‘½å

- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶å
- README.md ç”¨äºç›®å½•è¯´æ˜
- é¦–å­—æ¯å¤§å†™çš„æ ‡é¢˜ï¼š`Deployment Guide.md`

## ğŸ¯ æ ‡å‡†åŒ–è¦æ±‚

1. **ä¸€è‡´æ€§**: æ‰€æœ‰æ–‡ä»¶éµå¾ªç»Ÿä¸€çš„å‘½åå’Œç»„ç»‡è§„èŒƒ
2. **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ç›®å½•ç»“æ„ä¾¿äºç»´æŠ¤å’Œæ‰©å±•
3. **å®‰å…¨æ€§**: æ•æ„Ÿæ–‡ä»¶åˆ†ç¦»ï¼Œæƒé™æ§åˆ¶
4. **æ–‡æ¡£åŒ–**: æ¯ä¸ªæœåŠ¡éƒ½æœ‰å®Œæ•´çš„æ–‡æ¡£è¯´æ˜
5. **æµ‹è¯•è¦†ç›–**: æ¯ä¸ªæ¨¡å—éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•æ–‡ä»¶
