# ðŸ› ï¸ å¸¸è§é”™è¯¯ä¿®å¤æŒ‡å—

æœ¬æ–‡æ¡£æ”¶é›†äº†é¡¹ç›®å¼€å‘ä¸­é‡åˆ°çš„å¸¸è§é”™è¯¯åŠå…¶è§£å†³æ–¹æ¡ˆï¼Œä¾›å¼€å‘å›¢é˜Ÿå‚è€ƒã€‚

## âš ï¸ é—®é¢˜ 1ï¼šsed æŠ¥é”™ .env æ›¿æ¢å¤±è´¥

### é”™è¯¯ä¿¡æ¯

sed: can't read s/PORT=[0-9]*/PORT=3000/g: No such file or directory

### åŽŸå› åˆ†æž

ä½ æŠŠæ›¿æ¢è¡¨è¾¾å¼å½“æˆäº†æ–‡ä»¶åï¼Œæ²¡æœ‰ç”¨å¼•å·åŒ…è£¹sedå‘½ä»¤çš„æ›¿æ¢è¡¨è¾¾å¼ã€‚

### è§£å†³æ–¹æ³•

#### æ–¹æ³• 1ï¼šä»Žç¤ºä¾‹æ–‡ä»¶ç”Ÿæˆæ–°æ–‡ä»¶

```bash
sed 's/PORT=[0-9]*/PORT=3000/g' api/.env.example > api/.env
```

#### æ–¹æ³• 2ï¼šç›´æŽ¥ä¿®æ”¹å·²å­˜åœ¨çš„æ–‡ä»¶

```bash
cp api/.env.example api/.env
sed -i 's/PORT=[0-9]*/PORT=3000/g' api/.env
```

#### æ–¹æ³• 3ï¼šæ‰¹é‡æ›¿æ¢å¤šä¸ªé…ç½®é¡¹

```bash
cp api/.env.example api/.env
sed -i 's/PORT=[0-9]*/PORT=3000/g; s/NODE_ENV=.*/NODE_ENV=production/g' api/.env
```

## âš ï¸ é—®é¢˜ 2ï¼šJavaScript è„šæœ¬æŠ¥é”™ SyntaxError

### é”™è¯¯ ä¿¡æ¯

# !/usr/bin/env node
^ SyntaxError: Invalid or unexpected token

### åŽŸå›  åˆ†æž

æ–‡ä»¶å¼€å¤´å¯èƒ½å­˜åœ¨éž UTF-8 ç¼–ç å­—ç¬¦ã€BOMï¼ˆByte Order Markï¼‰ï¼Œæˆ–è€…æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®ã€‚

### è§£å†³ æ–¹æ³•

#### æ­¥éª¤ 1ï¼šæ£€æŸ¥æ–‡ä»¶ç¼–ç 

```bash
file service-mesh-start.js
```

#### æ­¥éª¤ 2ï¼šæ¸…é™¤ BOM å­—ç¬¦

å¦‚æžœæ˜¾ç¤º "with BOM"ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…é™¤ï¼š

```bash
sed -i '1s/^\xEF\xBB\xBF//' service-mesh-start.js
```

#### æ­¥éª¤ 3ï¼šé‡æ–°åˆ›å»ºæ–‡ä»¶ï¼ˆå¦‚æžœä¸Šè¿°æ–¹æ³•æ— æ•ˆï¼‰

```bash
cat > service-mesh-start.js << 'EOF'
#!/usr/bin/env node
// ä½ çš„è„šæœ¬å†…å®¹
EOF
chmod +x service-mesh-start.js
```

## âš ï¸ é—®é¢˜ 3ï¼šå¯†é’¥ç”Ÿæˆå¤±è´¥ - è·¯å¾„æ— æ³•ä¿å­˜

### é”™è¯¯ ä¿¡æ¯

Saving key "~/.ssh/id_rsa_local" failed: No such file or directory

### åŽŸå› åˆ†æž

åœ¨å¼•å·ä¸­ä½¿ç”¨äº†æ³¢æµªå·ï¼ˆ~ï¼‰ï¼Œä½† ssh-keygen ä¸è¯†åˆ«å¼•å·åŒ…è£¹çš„ ~ è·¯å¾„ï¼Œå¯¼è‡´æ— æ³•æ­£ç¡®è§£æžä¸ºç”¨æˆ·ä¸»ç›®å½•ã€‚

### è§£å†³æ–¹æ³•

#### æ–¹æ³• 1ï¼šä½¿ç”¨ $HOME å˜é‡

```bash
ssh-keygen -t ed25519 -f "$HOME/.ssh/id_rsa_local" -N ""
```

#### æ–¹æ³• 2ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„

```bash
ssh-keygen -t ed25519 -f /root/.ssh/id_rsa_local -N ""
```

#### æ–¹æ³• 3ï¼šç¡®ä¿ç›®å½•å­˜åœ¨

```bash
mkdir -p "$HOME/.ssh"
ssh-keygen -t ed25519 -f "$HOME/.ssh/id_rsa_local" -N ""
```

## ðŸ” æŽ’æŸ¥æŠ€å·§

### 1. æ–‡ä»¶æƒé™é—®é¢˜

å¦‚æžœé‡åˆ° "Permission denied" é”™è¯¯ï¼Œæ£€æŸ¥æ–‡ä»¶æƒé™ï¼š

```bash
ls -la file_name
chmod +x file_name  # ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
```

### 2. è„šæœ¬è·¯å¾„é—®é¢˜

æ‰§è¡Œè„šæœ¬æ—¶ä½¿ç”¨ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼š

```bash
# æ­£ç¡®æ–¹å¼
./script.sh  # ç›¸å¯¹è·¯å¾„
/path/to/script.sh  # ç»å¯¹è·¯å¾„

# é”™è¯¯æ–¹å¼
script.sh  # ä¾èµ– PATH çŽ¯å¢ƒå˜é‡
```

### 3. çŽ¯å¢ƒå˜é‡é—®é¢˜

ç¡®ä¿çŽ¯å¢ƒå˜é‡æ­£ç¡®è®¾ç½®ï¼š

```bash
echo "$HOME"
echo "$PATH"

# åœ¨è„šæœ¬ä¸­ä½¿ç”¨çŽ¯å¢ƒå˜é‡å‰æ£€æŸ¥æ˜¯å¦å­˜åœ¨
if [ -z "$HOME" ]; then
  echo "é”™è¯¯: HOME çŽ¯å¢ƒå˜é‡æœªè®¾ç½®"
  exit 1
fi
```

## ðŸ“ æœ€ä½³å®žè·µ

1. **ä½¿ç”¨å¼•å·åŒ…è£¹è·¯å¾„å’Œå‚æ•°**ï¼Œé¿å…ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦å¯¼è‡´çš„é—®é¢˜
2. **ä½¿ç”¨ç»å¯¹è·¯å¾„** æˆ– `$HOME` å˜é‡è€Œä¸æ˜¯ `~`
3. **åœ¨ä¿®æ”¹å‰å¤‡ä»½æ–‡ä»¶**
4. **ä¸ºè„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™**
5. **ä½¿ç”¨ `set -euo pipefail`** åœ¨è„šæœ¬å¼€å¤´å¯ç”¨ä¸¥æ ¼æ¨¡å¼

---

ä¿æŒä»£ç å¥åº·ï¼Œç¨³æ­¥å‰è¡Œï¼ ðŸŒ¹
