# NAS æ‰‹åŠ¨éƒ¨ç½²æŒ‡ä»¤ (SSHè¿æ¥ä¿®å¤å)

## å½“å‰çŠ¶æ€

- âœ… DNSè§£æå·²æ­£ç¡®æŒ‡å‘ 8.130.127.121
- âœ… æœ¬åœ°æœåŠ¡è¿è¡Œæ­£å¸¸
- âœ… éƒ¨ç½²åŒ…å‡†å¤‡å®Œæˆ
- ğŸ”„ SSHè¿æ¥éœ€è¦ä¿®å¤

## SSHè¿æ¥ä¿®å¤

### æ–¹æ³•1: é€šè¿‡NASç®¡ç†ç•Œé¢

1. æµè§ˆå™¨è®¿é—®: `http://192.168.3.45`
2. ç™»å½•NASç®¡ç†ç³»ç»Ÿ
3. è¿›å…¥"æ§åˆ¶é¢æ¿" > "ç»ˆç«¯æœº"æˆ–"SSHæœåŠ¡"
4. å¯ç”¨SSHæœåŠ¡
5. è®¾ç½®ç«¯å£ä¸º57
6. å…è®¸rootç”¨æˆ·ç™»å½•
7. ä¿å­˜è®¾ç½®

### æ–¹æ³•2: é€šè¿‡NASç»ˆç«¯

å¦‚æœå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è®¿é—®NASç»ˆç«¯ï¼š

```bash
# é‡å¯SSHæœåŠ¡
systemctl restart sshd
# æˆ–
/etc/init.d/S50sshd restart

# æ£€æŸ¥SSHé…ç½®
cat /etc/ssh/sshd_config

# ç¡®ä¿é…ç½®åŒ…å«ï¼š
Port 57
PermitRootLogin yes
PasswordAuthentication yes
```

## æ‰‹åŠ¨éƒ¨ç½²å‘½ä»¤

### 1. åˆ›å»ºç›®å½•

```bash
mkdir -p /Volume1/www/frpc/{logs,scripts}
mkdir -p /etc/frp
```

### 2. ä¸‹è½½éƒ¨ç½²åŒ…åˆ°NAS

```bash
# æ–¹æ³•1: ä½¿ç”¨SCP (éœ€è¦SSHè¿æ¥)
scp -P 57 /Users/yanyu/www/nas-final-deployment.tar.gz root@192.168.3.45:/tmp/

# æ–¹æ³•2: ä½¿ç”¨wget (å¦‚æœNASæœ‰ç½‘ç»œ)
cd /tmp
wget http://your-local-server.com/nas-final-deployment.tar.gz

# æ–¹æ³•3: Uç›˜éƒ¨ç½²
# å°†éƒ¨ç½²åŒ…å¤åˆ¶åˆ°Uç›˜ï¼Œæ’å…¥NASåæ‰§è¡Œ
cd /Volume1/USB_DRIVE
cp nas-final-deployment.tar.gz /tmp/
```

### 3. åœ¨NASä¸Šè§£å‹å’Œéƒ¨ç½²

```bash
cd /tmp
tar -xzf nas-final-deployment.tar.gz
cd nas-final-deployment-package
./deploy.sh
```

### 4. éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status frpc

# æŸ¥çœ‹æ—¥å¿—
journalctl -u frpc -f

# æµ‹è¯•ç®¡ç†ç•Œé¢
curl http://127.0.0.1:7400

# æ£€æŸ¥è¿æ¥åˆ°FRPæœåŠ¡ç«¯
netstat -an | grep 8.130.127.121
```

## éƒ¨ç½²åŒ…æ–‡ä»¶è¯´æ˜

- `frpc` - FRPå®¢æˆ·ç«¯äºŒè¿›åˆ¶æ–‡ä»¶
- `frpc-corrected.toml` - ä¿®æ­£åçš„é…ç½®æ–‡ä»¶
- `ca.pem` - TLSè¯ä¹¦æ–‡ä»¶
- `install.sh` - è‡ªåŠ¨å®‰è£…è„šæœ¬
- `deploy.sh` - ä¸€é”®éƒ¨ç½²è„šæœ¬

## æ•…éšœæ’é™¤

### SSHè¿æ¥é—®é¢˜

1. ç¡®è®¤NASç½‘ç»œè¿æ¥æ­£å¸¸
2. æ£€æŸ¥SSHæœåŠ¡æ˜¯å¦è¿è¡Œ
3. éªŒè¯é˜²ç«å¢™è®¾ç½®
4. å°è¯•ä¸åŒSSHç«¯å£ (22, 57, 9557)

### FRPå®¢æˆ·ç«¯é—®é¢˜

1. éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
2. æ£€æŸ¥ç½‘ç»œåˆ°FRPæœåŠ¡ç«¯çš„è¿é€šæ€§
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
4. é‡æ–°è¿è¡Œéƒ¨ç½²è„šæœ¬

### å¤–ç½‘è®¿é—®é—®é¢˜

1. ç¡®è®¤DNSè§£ææ­£ç¡®
2. éªŒè¯FRPéš§é“è¿æ¥
3. æ£€æŸ¥æœ¬åœ°æœåŠ¡çŠ¶æ€
4. æµ‹è¯•åŸŸåè®¿é—®

---

**éƒ¨ç½²å®Œæˆåï¼Œç³»ç»Ÿå°†æä¾›å®Œæ•´çš„å¤–ç½‘è®¿é—®èƒ½åŠ›ï¼**

**é¢„æœŸè®¿é—®åœ°å€:**

- APIæœåŠ¡: <http://api.0379.email>
- ç®¡ç†é¢æ¿: <http://admin.0379.email>
- AIæœåŠ¡: <http://llm.0379.email>
- é‚®ä»¶æœåŠ¡: <http://mail.0379.email>
- NASç®¡ç†: <http://nas.0379.email>
