# ===== YYC³ 多维度开发环境配置 =====
# 环境: development
# 部署级别: local, dev
# 最后更新: 2025-12-06
# 版本: v3.0 Enterprise Edition

# ===== 1. 基础环境配置 =====
ENVIRONMENT_TYPE=development
DEPLOYMENT_LEVEL=local
NODE_ENV=development
APP_ENV=development
APP_DEBUG=true
APP_LOG_LEVEL=debug
CONFIG_VERSION=3.0.0

# ===== 2. 服务器配置 =====
# 本地开发服务器
LOCAL_HOST=localhost
LOCAL_IP=127.0.0.1
LOCAL_MAC_IP=192.168.3.22
LOCAL_PORT_START=3000
LOCAL_PORT_END=3999

# 开发服务器连接
DEV_EMAIL_SERVER=8.152.195.33
DEV_WORLD_SERVER=8.130.127.121
DEV_NAS_SERVER=192.168.3.45

# ===== 3. 应用配置 =====
# 开发应用配置
APP_NAME=YYC3-Dev
APP_VERSION=3.0.0-dev
APP_PORT=3000
APP_HOST=localhost
APP_BASE_URL=http://localhost:3000

# API配置
API_PORT=8000
API_HOST=localhost
API_BASE_URL=http://localhost:8000
API_VERSION=v1
API_TIMEOUT=30000
API_RETRIES=3

# 管理面板配置
ADMIN_PORT=3001
ADMIN_HOST=localhost
ADMIN_BASE_URL=http://localhost:3001

# 仪表板配置
DASHBOARD_PORT=3100
DASHBOARD_HOST=localhost
DASHBOARD_BASE_URL=http://localhost:3100

# =============================================================================
# 数据库配置
# =============================================================================

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CLUSTER_NODES=
REDIS_SENTINEL_HOSTS=

# MongoDB 配置
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=emaildb
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_AUTH_SOURCE=admin

# PostgreSQL 配置
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=emaildb
POSTGRES_USERNAME=emailuser
POSTGRES_PASSWORD=
POSTGRES_SSL_MODE=disable

# =============================================================================
# 认证和安全配置
# =============================================================================

# JWT 配置
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# 密码加密
BCRYPT_ROUNDS=12
PEPPER_SECRET=your-pepper-secret-change-this

# API 安全
API_KEY=your-api-key-change-this-in-production
API_VERSION=v1
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# 会话配置
SESSION_SECRET=your-session-secret-change-this
SESSION_NAME=0379_session
SESSION_SECURE=false
SESSION_MAX_AGE=86400000

# =============================================================================
# 邮件服务配置
# =============================================================================

# SMTP 配置
SMTP_HOST=smtp.0379.email
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@0379.email
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_NAME=0379.email
SMTP_FROM_EMAIL=noreply@0379.email

# 邮件队列配置
MAIL_QUEUE_REDIS_HOST=localhost
MAIL_QUEUE_REDIS_PORT=6379
MAIL_QUEUE_REDIS_DB=1

# =============================================================================
# AI/LLM 服务配置
# =============================================================================

# OpenAI 配置
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# 本地 LLM 配置
LOCAL_LLM_ENABLED=false
LOCAL_LLM_HOST=localhost
LOCAL_LLM_PORT=11434
LOCAL_LLM_MODEL=llama2

# AI 服务配置
AI_SERVICE_ENABLED=true
AI_SERVICE_TIMEOUT=30000
AI_SERVICE_MAX_CONCURRENT=10

# =============================================================================
# 文件存储配置
# =============================================================================

# 本地存储
UPLOAD_PATH=/var/www/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# 云存储 (可选)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=0379-email-storage

# =============================================================================
# 监控和日志配置
# =============================================================================

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/0379-email
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# 监控配置
METRICS_ENABLED=true
METRICS_PORT=9464
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Sentry 错误监控
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Prometheus 指标
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================================================
# 缓存配置
# =============================================================================

# Redis 缓存
CACHE_TTL=3600
CACHE_PREFIX=0379email:

# 内存缓存
MEMORY_CACHE_MAX_SIZE=100
MEMORY_CACHE_TTL=300

# =============================================================================
# 安全配置
# =============================================================================

# CORS 配置
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# 安全头配置
HELMET_ENABLED=true
FRAMEGUARD_ACTION=sameorigin
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# 限流配置
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_LOGIN_WINDOW=900000
RATE_LIMIT_API_REQUESTS=100
RATE_LIMIT_API_WINDOW=60000

# =============================================================================
# 外部服务配置
# =============================================================================

# 第三方认证
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# 支付服务 (可选)
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# 分析服务 (可选)
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# =============================================================================
# 开发和测试配置
# =============================================================================

# 开发配置
DEV_MOCK_EXTERNAL_APIS=false
DEV_SEED_DATA=true
DEV_AUTO_RELOAD=true

# 测试配置
TEST_DATABASE_URL=mongodb://localhost:27017/emaildb_test
TEST_REDIS_URL=redis://localhost:6379/15
TEST_JWT_SECRET=test-jwt-secret

# =============================================================================
# 部署配置
# =============================================================================

# Docker 配置
DOCKER_REGISTRY=
DOCKER_IMAGE_TAG=latest
DOCKER_BUILD_ARGS=

# Kubernetes 配置
KUBERNETES_NAMESPACE=0379-email
KUBERNETES_CONFIG_PATH=

# CI/CD 配置
CI_BUILD_NUMBER=
CI_COMMIT_SHA=
CI_BRANCH=

# =============================================================================
# 备份和恢复配置
# =============================================================================

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# 数据库备份
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 3 * * *
DB_BACKUP_PATH=/backups/database

# =============================================================================
# 特定环境配置
# =============================================================================

# 开发环境特定配置
DEV_DATABASE_URL=mongodb://localhost:27017/emaildb_dev
DEV_REDIS_URL=redis://localhost:6379/0
DEV_LOG_LEVEL=debug

# 生产环境特定配置
PROD_DATABASE_URL=
PROD_REDIS_URL=
PROD_LOG_LEVEL=warn
PROD_SESSION_SECURE=true

# 测试环境特定配置
TEST_DATABASE_URL=mongodb://localhost:27017/emaildb_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_LOG_LEVEL=error

# =============================================================================
# 其他配置
# =============================================================================

# 时区配置
TIMEZONE=Asia/Shanghai

# 国际化配置
DEFAULT_LANGUAGE=zh-CN
SUPPORTED_LANGUAGES=zh-CN,en-US

# 功能开关
FEATURE_MAINTENANCE_MODE=false
FEATURE_BETA_FEATURES=true
FEATURE_ANALYTICS=false
# =============================================================================
# 数据库配置 (使用生成的安全密钥)
# =============================================================================
REDIS_URL=redis://:HAtwyyb34murBW7jzkUmag8x@redis:6379
MONGODB_URL=mongodb://admin:5LUg9loJ0io6e4R5PJ6lfmhd@mongodb:27017/0379email_dev?authSource=admin
POSTGRES_URL=postgresql://postgres:gmr7aTZlrU6u14jXNFQATVWf@postgres:5432/0379email_dev

# =============================================================================
# 安全配置 (使用生成的密钥)
# =============================================================================
JWT_SECRET=HvH4LR1E3zGwWAecmfOPeNiai4ZuQ3TdIbqqADifDntd1GTwEfbYJQmqEFeb3Kf44GCgybdmFvqzMj7Yw
API_KEY=gqVsPQHeXx3Iu2nrvBgg7w2Gii4ez067
ENCRYPTION_KEY=qBSQlq9zEwZXuaB4Hb80Dd65e2Mz0KxQV3rjbpDf4wg=

# =============================================================================
# 邮件配置 (开发环境)
# =============================================================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=dev
SMTP_PASS=dev
MAILHOG_ENABLED=true

# =============================================================================
# AI 服务配置
# =============================================================================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
DEFAULT_LLM_MODEL=gpt-3.5-turbo

# =============================================================================
# 监控配置
# =============================================================================
PROMETHEUS_ENABLED=true
GRAFANA_PASSWORD=admin123
