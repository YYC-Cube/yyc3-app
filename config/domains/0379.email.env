# ===== 0379.email 域名专用配置 =====
# 服务器: 阿里云ECS 8.152.195.33
# 最后更新: 2025-12-06

# ===== 服务器基础信息 =====
DOMAIN_NAME=0379.email
SERVER_NAME=yyc3-33
SERVER_IP=8.152.195.33
SERVER_PORT=22
SERVER_USER=root
SERVER_PRIVATE_IP=172.29.225.115

# ===== 子域名配置 =====
MAIL_SUBDOMAIN=mail.0379.email
LLM_SUBDOMAIN=llm.0379.email
API_SUBDOMAIN=api.0379.email
ADMIN_SUBDOMAIN=admin.0379.email
IMAP_SUBDOMAIN=imap.0379.email
SMTP_SUBDOMAIN=smtp.0379.email

# ===== 服务端口配置 =====
# Web服务
MAIL_WEB_PORT=3000
ADMIN_WEB_PORT=3001
LLM_WEB_PORT=3002

# API服务
MAIN_API_PORT=8001
LLM_API_PORT=8002
MAIL_API_PORT=8003

# 数据库服务
POSTGRES_PORT=5432
REDIS_PORT=6379

# 监控服务
GRAFANA_PORT=3001
PROMETHEUS_PORT=9090

# ===== SSL证书配置 =====
SSL_CERT_DIR=/etc/ssl/certs/0379.email
SSL_KEY_DIR=/etc/ssl/private/0379.email
SSL_CHAIN_FILE=/etc/ssl/certs/0379.email/fullchain.pem
SSL_KEY_FILE=/etc/ssl/private/0379.email/privkey.pem

# ===== 邮件服务配置 =====
MAIL_SERVER_TYPE=postfix
IMAP_PORT=993
IMAPS_PORT=993
SMTP_PORT=587
SMTPS_PORT=465

# 邮件存储路径
MAIL_STORAGE_PATH=/var/mail/0379.email
MAIL_SPOOL_PATH=/var/spool/postfix
MAIL_LOG_PATH=/var/log/mail.log

# ===== AI服务配置 =====
LLM_PROVIDER=openai
LLM_API_PORT=8002
LLM_MODEL=gpt-4
LLM_MAX_TOKENS=4000
LLM_TEMPERATURE=0.7

# ===== 数据库配置 =====
# PostgreSQL配置
POSTGRES_DB=0379_email
POSTGRES_USER=postgres
POSTGRES_PASSWORD=yyc3_email_db_2025
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Redis配置
REDIS_DB=0
REDIS_PASSWORD=yyc3_email_redis_2025
REDIS_HOST=localhost
REDIS_PORT=6379

# ===== 部署配置 =====
DEPLOY_USER=root
DEPLOY_PATH=/opt/0379.email
WEB_ROOT=/var/www/0379.email
API_ROOT=/opt/api/0379.email

# 应用配置
APP_ENV=production
APP_DEBUG=false
APP_LOG_LEVEL=info
APP_TIMEZONE=Asia/Shanghai

# ===== Nginx配置 =====
NGINX_CONFIG_PATH=/etc/nginx/sites-available/0379.email
NGINX_SSL_CONFIG=/etc/nginx/snippets/ssl-0379.email.conf
NGINX_LOG_PATH=/var/log/nginx/0379.email

# ===== 备份配置 =====
BACKUP_ENABLED=true
BACKUP_PATH=/backup/0379.email
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# 数据库备份
DB_BACKUP_PATH=/backup/0379.email/database
DB_BACKUP_SCHEDULE="0 3 * * *"

# 邮件备份
MAIL_BACKUP_PATH=/backup/0379.email/mail
MAIL_BACKUP_SCHEDULE="0 4 * * *"

# ===== 监控配置 =====
MONITORING_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
METRICS_ENDPOINT=/metrics

# 日志配置
LOG_PATH=/var/log/0379.email
ACCESS_LOG_PATH=/var/log/nginx/0379.email_access.log
ERROR_LOG_PATH=/var/log/nginx/0379.email_error.log

# ===== 安全配置 =====
FIREWALL_ENABLED=true
FAIL2BAN_ENABLED=true
RATE_LIMIT_ENABLED=true

# 允许的IP
ALLOWED_IPS=192.168.3.0/24,8.130.127.121

# SSH配置
SSH_PORT=22
SSH_KEY_PATH=/root/.ssh/authorized_keys

# ===== API密钥配置 =====
API_SECRET_KEY=0379_email_api_secret_2025
JWT_SECRET=0379_email_jwt_secret_2025
ENCRYPTION_KEY=0379_email_encryption_2025