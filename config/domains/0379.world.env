# ===== 0379.world 域名专用配置 =====
# 服务器: 阿里云ECS 8.130.127.121
# 最后更新: 2025-12-06

# ===== 服务器基础信息 =====
DOMAIN_NAME=0379.world
SERVER_NAME=yyc3-121
SERVER_IP=8.130.127.121
SERVER_PORT=22
SERVER_USER=root
SERVER_PRIVATE_IP=172.21.150.189

# ===== 主要子域名配置 (30+个子域名) =====
# 核心服务
WWW_SUBDOMAIN=www.0379.world
API_SUBDOMAIN=api.0379.world
ADMIN_SUBDOMAIN=admin.0379.world
DASHBOARD_SUBDOMAIN=dashboard.0379.world

# 行业应用子域名
WEDDING_SUBDOMAIN=wedding.0379.world
HOTEL_SUBDOMAIN=hotel.0379.world
RESTAURANT_SUBDOMAIN=restaurant.0379.world
EDUCATION_SUBDOMAIN=education.0379.world
MEDICAL_SUBDOMAIN=medical.0379.world
FINANCE_SUBDOMAIN=finance.0379.world
REALESTATE_SUBDOMAIN=realestate.0379.world
AUTOMOTIVE_SUBDOMAIN=automotive.0379.world

# 技术服务子域名
CLOUD_SUBDOMAIN=cloud.0379.world
AI_SUBDOMAIN=ai.0379.world
IOT_SUBDOMAIN=iot.0379.world
BIGDATA_SUBDOMAIN=bigdata.0379.world
BLOCKCHAIN_SUBDOMAIN=blockchain.0379.world
SECURITY_SUBDOMAIN=security.0379.world

# 企业服务子域名
CRM_SUBDOMAIN=crm.0379.world
ERP_SUBDOMAIN=erp.0379.world
HR_SUBDOMAIN=hr.0379.world
OA_SUBDOMAIN=oa.0379.world
PROJECT_SUBDOMAIN=project.0379.world
DOCUMENT_SUBDOMAIN=document.0379.world

# 媒体服务子域名
VIDEO_SUBDOMAIN=video.0379.world
LIVE_SUBDOMAIN=live.0379.world
PHOTO_SUBDOMAIN=photo.0379.world
MUSIC_SUBDOMAIN=music.0379.world
GAME_SUBDOMAIN=game.0379.world

# ===== 服务端口配置 =====
# 主要Web服务
MAIN_WEB_PORT=3000
ADMIN_WEB_PORT=3001
DASHBOARD_WEB_PORT=3002

# API服务端口
MAIN_API_PORT=9000
WEDDING_API_PORT=9001
HOTEL_API_PORT=9002
EDUCATION_API_PORT=9003
MEDICAL_API_PORT=9004
FINANCE_API_PORT=9005

# 微服务端口
USER_SERVICE_PORT=9100
AUTH_SERVICE_PORT=9101
PAYMENT_SERVICE_PORT=9102
NOTIFICATION_SERVICE_PORT=9103
FILE_SERVICE_PORT=9104

# ===== SSL证书配置 =====
SSL_CERT_DIR=/etc/ssl/certs/0379.world
SSL_KEY_DIR=/etc/ssl/private/0379.world
SSL_CHAIN_FILE=/etc/ssl/certs/0379.world/fullchain.pem
SSL_KEY_FILE=/etc/ssl/private/0379.world/privkey.pem

# 通配符SSL证书
WILDCARD_CERT_FILE=/etc/ssl/certs/0379.world/wildcard.pem
WILDCARD_KEY_FILE=/etc/ssl/private/0379.world/wildcard.key

# ===== 数据库配置 =====
# PostgreSQL主库
POSTGRES_MAIN_DB=0379_world_main
POSTGRES_USER=postgres
POSTGRES_PASSWORD=yyc3_world_db_2025
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# 行业专用数据库
WEDDING_DB=0379_wedding
HOTEL_DB=0379_hotel
EDUCATION_DB=0379_education
MEDICAL_DB=0379_medical
FINANCE_DB=0379_finance

# Redis集群配置
REDIS_MAIN_DB=0
REDIS_CACHE_DB=1
REDIS_SESSION_DB=2
REDIS_QUEUE_DB=3
REDIS_PASSWORD=yyc3_world_redis_2025

# ===== 部署配置 =====
DEPLOY_USER=root
DEPLOY_PATH=/opt/0379.world
WEB_ROOT=/var/www/0379.world
API_ROOT=/opt/api/0379.world

# 多项目部署路径
WEDDING_PATH=/opt/0379.world/wedding
HOTEL_PATH=/opt/0379.world/hotel
EDUCATION_PATH=/opt/0379.world/education
MEDICAL_PATH=/opt/0379.world/medical

# ===== Nginx配置 =====
NGINX_CONFIG_PATH=/etc/nginx/sites-available/0379.world
NGINX_SSL_CONFIG=/etc/nginx/snippets/ssl-0379.world.conf
NGINX_WILDCARD_CONFIG=/etc/nginx/snippets/wildcard-0379.world.conf
NGINX_LOG_PATH=/var/log/nginx/0379.world

# 子域名配置路径
SUBDOMAIN_CONFIG_PATH=/etc/nginx/sites-available/subdomains
WILDCARD_CONFIG_PATH=/etc/nginx/sites-available/wildcard.0379.world

# ===== 负载均衡配置 =====
LOAD_BALANCER_ENABLED=true
UPSTREAM_SERVERS=server1.0379.world:80,server2.0379.world:80
HEALTH_CHECK_INTERVAL=30
MAX_CONNECTIONS=1000

# ===== 缓存配置 =====
VARNISH_ENABLED=true
VARNISH_PORT=80
VARNISH_BACKEND_PORT=8080
VARNISH_STORAGE_SIZE=1G

# ===== CDN配置 =====
CDN_ENABLED=true
CDN_PROVIDER=aliyun
CDN_DOMAIN=cdn.0379.world
CDN_CACHE_TTL=3600

# ===== 备份配置 =====
BACKUP_ENABLED=true
BACKUP_PATH=/backup/0379.world
BACKUP_SCHEDULE="0 1 * * *"
BACKUP_RETENTION_DAYS=30

# 数据库备份
DB_BACKUP_PATH=/backup/0379.world/database
DB_BACKUP_SCHEDULE="0 2 * * *"

# 文件备份
FILE_BACKUP_PATH=/backup/0379.world/files
FILE_BACKUP_SCHEDULE="0 3 * * *"

# 配置备份
CONFIG_BACKUP_PATH=/backup/0379.world/config
CONFIG_BACKUP_SCHEDULE="0 4 * * *"

# ===== 监控配置 =====
MONITORING_ENABLED=true
GRAFANA_PORT=3001
PROMETHEUS_PORT=9090
ALERTMANAGER_PORT=9093

# 健康检查
HEALTH_CHECK_ENDPOINT=/health
METRICS_ENDPOINT=/metrics

# 日志配置
LOG_PATH=/var/log/0379.world
ACCESS_LOG_PATH=/var/log/nginx/0379.world_access.log
ERROR_LOG_PATH=/var/log/nginx/0379.world_error.log

# ===== 安全配置 =====
WAF_ENABLED=true
FIREWALL_ENABLED=true
FAIL2BAN_ENABLED=true
RATE_LIMIT_ENABLED=true

# DDoS防护
DDOS_PROTECTION_ENABLED=true
DDOS_THRESHOLD=1000
DDOS_BLOCK_DURATION=300

# IP白名单
ALLOWED_IPS=192.168.3.0/24,8.152.195.33

# ===== API配置 =====
API_GATEWAY_ENABLED=true
API_GATEWAY_PORT=8080
API_VERSION=v1
API_RATE_LIMIT=10000

# 微服务认证
OAUTH_ENABLED=true
OAUTH_PROVIDER=0379-auth
JWT_SECRET=0379_world_jwt_secret_2025
API_SECRET_KEY=0379_world_api_secret_2025

# ===== 性能优化配置 =====
GZIP_ENABLED=true
BROTLI_ENABLED=true
HTTP2_ENABLED=true
KEEPALIVE_TIMEOUT=65
MAX_WORKERS=4

# ===== 云原生配置 =====
KUBERNETES_ENABLED=true
DOCKER_REGISTRY=docker.io
HELM_CHART_PATH=/charts/0379.world