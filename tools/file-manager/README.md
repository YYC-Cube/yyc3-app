# YYCÂ³ æ™ºèƒ½æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ

> **ç‰ˆæœ¬**: v1.0.0 | **åˆ›å»ºæ—¶é—´**: 2025-12-08 | **ç»´æŠ¤å›¢é˜Ÿ**: YYC3 AI Family

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

YYCÂ³æ™ºèƒ½æ–‡ä»¶ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€å¥—ä¸“ä¸ºè§£å†³ç›®å½•åˆ†æ•£ã€æ–‡ä»¶å†—ä½™ã€ç¼ºä¹è‡ªåŠ¨åŒ–ç­‰é—®é¢˜è€Œè®¾è®¡çš„æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿèƒ½å¤Ÿè‡ªåŠ¨åŒæ­¥ã€å¤‡ä»½ã€æ¸…ç†æ–‡ä»¶ï¼Œå¹¶ä¸æœ¬åœ°NASæ— ç¼é›†æˆã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ğŸ” æ™ºèƒ½æ–‡ä»¶åˆ†æ** - åŸºäºSHA-256å“ˆå¸Œå€¼çš„ç²¾ç¡®é‡å¤æ–‡ä»¶æ£€æµ‹
- **ğŸ”„ æ™ºèƒ½åŒå‘åŒæ­¥** - wwwç›®å½•ä¸å·¥ä½œç©ºé—´ä¹‹é—´çš„è‡ªåŠ¨åŒæ­¥
- **â˜ï¸ NASé›†æˆå¤‡ä»½** - è‡ªåŠ¨æŒ‚è½½å’Œå¤‡ä»½åˆ°NASå­˜å‚¨
- **ğŸ§¹ æ™ºèƒ½æ¸…ç†åŠŸèƒ½** - è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶ã€è¿‡æœŸæ—¥å¿—ã€é‡å¤æ–‡ä»¶
- **â° å®šæ—¶ä»»åŠ¡ç®¡ç†** - å¯é…ç½®çš„è‡ªåŠ¨åŒ–ä»»åŠ¡è°ƒåº¦
- **ğŸ“Š å®æ—¶ç›‘æ§æŠ¥å‘Š** - è¯¦ç»†çš„ç³»ç»ŸçŠ¶æ€å’Œæ€§èƒ½æŠ¥å‘Š
- **ğŸ›¡ï¸ æ•°æ®å®‰å…¨ä¿éšœ** - å®Œæ•´çš„å¤‡ä»½å’Œæ¢å¤æœºåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç³»ç»Ÿè¦æ±‚

- **Node.js**: >= 14.0.0
- **æ“ä½œç³»ç»Ÿ**: macOS
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘1GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œè¿æ¥**: ç”¨äºNASé›†æˆå’Œè¿œç¨‹å¤‡ä»½

### 2. ä¸€é”®å®‰è£…

```bash
# è¿›å…¥ç³»ç»Ÿç›®å½•
cd /Users/yanyu/www/æ™ºèƒ½æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ

# è¿è¡Œå®‰è£…é…ç½®å‘å¯¼
node setup.js
```

å®‰è£…å‘å¯¼ä¼šå¼•å¯¼æ‚¨å®Œæˆï¼š
- ä¾èµ–åŒ…å®‰è£…
- ç›®å½•è·¯å¾„é…ç½®
- NASè¿æ¥è®¾ç½®
- åŒæ­¥ç­–ç•¥é€‰æ‹©
- å®šæ—¶ä»»åŠ¡é…ç½®

### 3. å¯åŠ¨ç³»ç»Ÿ

```bash
# å¯åŠ¨æ™ºèƒ½æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
npm start
```

ç³»ç»Ÿå¯åŠ¨åä¼šåœ¨åå°è¿è¡Œï¼Œè‡ªåŠ¨æ‰§è¡ŒåŒæ­¥ã€å¤‡ä»½ã€æ¸…ç†ç­‰ä»»åŠ¡ã€‚

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å‘½ä»¤

```bash
# å¯åŠ¨ç³»ç»Ÿ
npm start

# æ‰«æç°æœ‰æ–‡ä»¶
npm run scan

# æ‰‹åŠ¨æ‰§è¡ŒåŒæ­¥
npm run sync

# æ‰§è¡Œæ™ºèƒ½æ¸…ç†
npm run cleanup

# æ‰§è¡Œå®Œæ•´å¤‡ä»½
npm run backup

# ç”Ÿæˆç³»ç»ŸæŠ¥å‘Š
npm run report
```

### é«˜çº§åŠŸèƒ½

#### 1. æ–‡ä»¶é‡å¤æ£€æµ‹

ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—æ–‡ä»¶å“ˆå¸Œå€¼ï¼Œæ£€æµ‹é‡å¤æ–‡ä»¶ï¼š
- å°äº50MBçš„æ–‡ä»¶ä¼šè®¡ç®—SHA-256å“ˆå¸Œå€¼
- ä¿ç•™æœ€æ–°/æœ€å¤§çš„æ–‡ä»¶ï¼Œåˆ é™¤å…¶ä»–é‡å¤æ–‡ä»¶
- æä¾›è¯¦ç»†çš„é‡å¤æ–‡ä»¶æŠ¥å‘Š

#### 2. æ™ºèƒ½åŒæ­¥ç­–ç•¥

```javascript
// é…ç½®æ–‡ä»¶ç¤ºä¾‹
{
  "sync": {
    "interval": "*/5 * * * *",  // æ¯5åˆ†é’ŸåŒæ­¥
    "excludePatterns": ["node_modules", ".git", "*.log"],
    "maxBackupVersions": 10
  }
}
```

#### 3. NASé›†æˆç®¡ç†

- è‡ªåŠ¨æ£€æµ‹NASè¿æ¥çŠ¶æ€
- æ™ºèƒ½æŒ‚è½½å’Œå¸è½½
- å¢é‡å¤‡ä»½å’Œç‰ˆæœ¬ç®¡ç†
- æ–­çº¿é‡è¿å’Œé”™è¯¯æ¢å¤

#### 4. æ¸…ç†ç­–ç•¥é…ç½®

```javascript
// æ¸…ç†é…ç½®ç¤ºä¾‹
{
  "cleanup": {
    "tempFileAge": 7 * 24 * 60 * 60 * 1000,      // 7å¤©
    "logFileAge": 30 * 24 * 60 * 60 * 1000,      // 30å¤©
    "backupRetentionDays": 90                       // 90å¤©
  }
}
```

## ğŸ“Š ç›‘æ§å’ŒæŠ¥å‘Š

### å®æ—¶çŠ¶æ€ç›‘æ§

ç³»ç»Ÿä¼šè‡ªåŠ¨æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š
- å·²æ‰«ææ–‡ä»¶æ•°é‡
- å‘ç°çš„é‡å¤æ–‡ä»¶ç»„æ•°
- é‡Šæ”¾çš„å­˜å‚¨ç©ºé—´
- æœ€ååŒæ­¥æ—¶é—´
- æœ€åå¤‡ä»½æ—¶é—´

### å®šæœŸæŠ¥å‘Šç”Ÿæˆ

```bash
# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
npm run report
```

æŠ¥å‘Šå†…å®¹åŒ…æ‹¬ï¼š
- æ–‡ä»¶åˆ†å¸ƒç»Ÿè®¡
- é‡å¤æ–‡ä»¶åˆ†æ
- å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
- ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- ä¼˜åŒ–å»ºè®®

### æ—¥å¿—æ–‡ä»¶æŸ¥çœ‹

```bash
# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
tail -f logs/filemanager.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/filemanager.err
```

## ğŸ”§ é…ç½®ç®¡ç†

### é…ç½®æ–‡ä»¶ä½ç½®

- **ä¸»é…ç½®**: `config.json`
- **æ—¥å¿—ç›®å½•**: `logs/`
- **å¤‡ä»½ç›®å½•**: `backups/`
- **ä¸´æ—¶ç›®å½•**: `temp/`

### å¸¸ç”¨é…ç½®è°ƒæ•´

#### 1. ç›®å½•è·¯å¾„é…ç½®

```json
{
  "wwwDir": "/Users/yanyu/www",
  "workspaceDir": "/Users/yanyu/yyc3-workspace",
  "nasConfig": {
    "host": "192.168.1.12",
    "user": "yanyu",
    "mountPoint": "/Volumes/NAS-YYC3"
  }
}
```

#### 2. åŒæ­¥é¢‘ç‡é…ç½®

```json
{
  "sync": {
    "interval": "*/15 * * * *",  // æ¯15åˆ†é’Ÿ
    "excludePatterns": ["*.tmp", "cache/"]
  }
}
```

#### 3. æ¸…ç†ç­–ç•¥é…ç½®

```json
{
  "cleanup": {
    "tempFileAge": 3 * 24 * 60 * 60 * 1000,     // 3å¤©
    "logFileAge": 14 * 24 * 60 * 60 * 1000,     // 14å¤©
    "backupRetentionDays": 60                      // 60å¤©
  }
}
```

## ğŸ› ï¸ ç®¡ç†å’Œç»´æŠ¤

### å¼€æœºè‡ªå¯ç®¡ç†

```bash
# å¯ç”¨å¼€æœºè‡ªå¯
launchctl load ~/Library/LaunchAgents/com.yyc3.filemanager.plist

# ç¦ç”¨å¼€æœºè‡ªå¯
launchctl unload ~/Library/LaunchAgents/com.yyc3.filemanager.plist

# é‡å¯æœåŠ¡
launchctl unload ~/Library/LaunchAgents/com.yyc3.filemanager.plist
launchctl load ~/Library/LaunchAgents/com.yyc3.filemanager.plist
```

### æ‰‹åŠ¨ç®¡ç†å‘½ä»¤

```bash
# æ£€æŸ¥NASè¿æ¥çŠ¶æ€
ping 192.168.1.12

# æ‰‹åŠ¨æŒ‚è½½NAS
mount -t smbfs //192.168.1.12/volume1/YYC3-Backup /Volumes/NAS-YYC3

# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
ps aux | grep SmartFileManager

# å¼ºåˆ¶åœæ­¢æœåŠ¡
pkill -f SmartFileManager
```

## ğŸ”’ å®‰å…¨å’Œå¤‡ä»½

### æ•°æ®å®‰å…¨æªæ–½

1. **åŠ å¯†ä¼ è¾“**: NASä¼ è¾“ä½¿ç”¨SMBåè®®åŠ å¯†
2. **æœ¬åœ°å¤‡ä»½**: åœ¨æœ¬åœ°åˆ›å»ºå¤šé‡å¤‡ä»½
3. **ç‰ˆæœ¬æ§åˆ¶**: ä¿ç•™å¤šä¸ªå¤‡ä»½ç‰ˆæœ¬
4. **æ—¥å¿—å®¡è®¡**: è®°å½•æ‰€æœ‰æ“ä½œæ—¥å¿—

### ç¾éš¾æ¢å¤

```bash
# ä»å¤‡ä»½æ¢å¤
npm run restore -- --backup-date 2025-12-08

# éªŒè¯å¤‡ä»½å®Œæ•´æ€§
npm run verify-backup

# ç´§æ€¥æ¨¡å¼å¯åŠ¨
node SmartFileManager.js --emergency-mode
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. NASè¿æ¥å¤±è´¥

**é—®é¢˜**: æ— æ³•è¿æ¥åˆ°NASæœåŠ¡å™¨
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping 192.168.1.12

# æ£€æŸ¥NASæœåŠ¡çŠ¶æ€
smbutil statshares -a

# é‡æ–°æŒ‚è½½NAS
umount /Volumes/NAS-YYC3
mount -t smbfs //192.168.1.12/volume1/YYC3-Backup /Volumes/NAS-YYC3
```

#### 2. åŒæ­¥å¤±è´¥

**é—®é¢˜**: æ–‡ä»¶åŒæ­¥è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /Users/yanyu/www
ls -la /Users/yanyu/yyc3-workspace

# æ‰‹åŠ¨æ‰§è¡Œrsyncæµ‹è¯•
rsync -av --dry-run /Users/yanyu/www/ /Users/yanyu/yyc3-workspace/

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
tail -f logs/filemanager.err
```

#### 3. æ¸…ç†å¼‚å¸¸

**é—®é¢˜**: æ–‡ä»¶æ¸…ç†è¿‡ç¨‹å¼‚å¸¸ç»ˆæ­¢
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ‰‹åŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
rm -rf /Users/yanyu/www/temp/*
rm -rf /tmp/*

# é‡æ–°è¿è¡Œæ¸…ç†
npm run cleanup -- --force
```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
DEBUG=true npm start

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
DEBUG=* npm run scan

# æ€§èƒ½åˆ†æ
npm run profile
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿè°ƒä¼˜å»ºè®®

1. **ç¡¬ä»¶è¦æ±‚**: å»ºè®®è‡³å°‘8GBå†…å­˜ï¼ŒSSDå­˜å‚¨
2. **ç½‘ç»œä¼˜åŒ–**: ä½¿ç”¨åƒå…†ä»¥å¤ªç½‘è¿æ¥NAS
3. **å®šæœŸç»´æŠ¤**: æ¯å‘¨æ‰§è¡Œä¸€æ¬¡å®Œæ•´æ¸…ç†
4. **ç›‘æ§å‘Šè­¦**: è®¾ç½®å­˜å‚¨ç©ºé—´ä½¿ç”¨é˜ˆå€¼

### æ€§èƒ½ç›‘æ§

```bash
# æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨
top -p $(pgrep SmartFileManager)

# æŸ¥çœ‹ç£ç›˜I/O
iostat -w 1

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -an | grep ESTABLISHED
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼

- **ç»´æŠ¤å›¢é˜Ÿ**: YYC3 AI Family
- **é¡¹ç›®åœ°å€**: https://github.com/YYC-Cube/yyc3-smart-file-manager
- **é—®é¢˜åé¦ˆ**: é€šè¿‡GitHub Issuesæäº¤é—®é¢˜

### è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®åˆ°æ‚¨çš„GitHub
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -am 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. åˆ›å»ºPull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹[LICENSE](LICENSE)æ–‡ä»¶ã€‚

---

<div align="center">

**[â¬†ï¸ å›åˆ°é¡¶éƒ¨](#yycÂ³-æ™ºèƒ½æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ)**

Made with â¤ï¸ by YYC3 AI Family Team

**è¨€å¯è±¡é™ï¼Œè¯­æ¢æ™ºèƒ½** ğŸš€

</div>
