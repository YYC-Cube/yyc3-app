# 语音转文本

> 使用 [GLM ASR](/cn/guide/models/sound–and–video/glm–asr) 模型将音频文件转录为文本，支持多语言和实时流式转录。

## OpenAPI

````yaml openapi/openapi.json post /paas/v4/audio/transcriptions
paths:
  path: /paas/v4/audio/transcriptions
  method: post
  servers:
    - url: https://open.bigmodel.cn/api/
      description: 开放平台服务
  request:
    security:
      - title: bearerAuth
        parameters:
          query: {}
          header:
            Authorization:
              type: http
              scheme: bearer
              description: >-
                使用以下格式进行身份验证：Bearer [<your api
                key>](https://bigmodel.cn/usercenter/proj-mgmt/apikeys)
          cookie: {}
    parameters:
      path: {}
      query: {}
      header: {}
      cookie: {}
    body:
      multipart/form-data:
        schemaArray:
          - type: object
            properties:
              file:
                allOf:
                  - type: string
                    format: binary
                    description: >-
                      需要转录的音频文件，支持上传的音频文件格式：`.wav / .mp3`，规格限制：文件大小 ≤ `25
                      MB`、音频时长 ≤ `60 秒`
              model:
                allOf:
                  - type: string
                    description: 要调用的模型编码
                    enum:
                      - glm-asr
                    default: glm-asr
              temperature:
                allOf:
                  - type: number
                    minimum: 0
                    maximum: 1
                    default: 0.95
                    description: >-
                      采样温度，控制输出的随机性，必须为正数，取值范围是：[`0.0,1.0`]，默认值为
                      `0.95`，值越大，会使输出更随机，更具创造性；值越小，输出会更加稳定或确定，建议您根据应用场景调整
                      `top_p` 或 `temperature` 参数，但不要同时调整两个参数
              stream:
                allOf:
                  - type: boolean
                    default: false
                    description: >-
                      该参数在使用同步调用时应设置为`false`或省略。表示模型在生成所有内容后一次性返回所有内容。默认值为`false`。如果设置为`true`，模型将通过标准`Event
                      Stream`逐块返回生成的内容。当`Event Stream`结束时，将返回一个`data: [DONE]`消息。
              request_id:
                allOf:
                  - type: string
                    description: 由用户端传递，需要唯一；用于区分每次请求的唯一标识符。如果用户端未提供，平台将默认生成。
              user_id:
                allOf:
                  - type: string
                    description: >-
                      终端用户的唯一`ID`，帮助平台对终端用户的非法活动、生成非法不当信息或其他滥用行为进行干预。`ID`长度要求：至少`6`个字符，最多`128`个字符。
            required: true
            refIdentifier: '#/components/schemas/AudioTranscriptionRequest'
            requiredProperties:
              - file
              - model
        examples:
          example:
            value:
              model: glm-asr
              temperature: 0.95
              stream: false
  response:
    '200':
      application/json:
        schemaArray:
          - type: object
            properties:
              id:
                allOf:
                  - type: string
                    description: 任务 ID
              created:
                allOf:
                  - type: integer
                    format: int64
                    description: 请求创建时间，是以秒为单位的 `Unix` 时间戳
              request_id:
                allOf:
                  - type: string
                    description: 由用户端传递，需要唯一；用于区分每次请求的唯一标识符。如果用户端未提供，平台将默认生成。
              model:
                allOf:
                  - type: string
                    description: 模型名称
              segments:
                allOf:
                  - type: array
                    description: 分句ASR内容
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          format: int64
                          description: 分句序号
                        start:
                          type: number
                          format: float
                          description: 分句开始时间
                        end:
                          type: number
                          format: float
                          description: 分句结束时间
                        text:
                          type: string
                          description: 分句识别内容
              text:
                allOf:
                  - type: string
                    description: 音频转录的完整内容
            refIdentifier: '#/components/schemas/AudioTranscriptionResponse'
        examples:
          example:
            value:
              id: <string>
              created: 123
              request_id: <string>
              model: <string>
              segments:
                - id: 123
                  start: 123
                  end: 123
                  text: <string>
              text: <string>
        description: 业务处理成功
      text/event-stream:
        schemaArray:
          - type: object
            properties:
              id:
                allOf:
                  - type: string
                    description: 任务 ID
              created:
                allOf:
                  - type: integer
                    format: int64
                    description: 请求创建时间，是以秒为单位的 `Unix` 时间戳
              model:
                allOf:
                  - type: string
                    description: 模型名称
              choices:
                allOf:
                  - type: array
                    description: 当前对话的模型输出内容
                    items:
                      type: object
              type:
                allOf:
                  - type: string
                    description: >-
                      音频转录事件类型，`transcript.text.delta`表示正在转录，`transcript.text.done`表示转录完成
              delta:
                allOf:
                  - type: string
                    description: 模型增量返回的音频转录信息
              text:
                allOf:
                  - type: string
                    description: 转录完成时返回的完整文本
            refIdentifier: '#/components/schemas/AudioTranscriptionStreamResponse'
        examples:
          example:
            value:
              id: <string>
              created: 123
              model: <string>
              choices:
                - {}
              type: <string>
              delta: <string>
              text: <string>
        description: 业务处理成功
    default:
      application/json:
        schemaArray:
          - type: object
            properties:
              error:
                allOf:
                  - required:
                      - code
                      - message
                    type: object
                    properties:
                      code:
                        type: string
                      message:
                        type: string
            refIdentifier: '#/components/schemas/Error'
        examples:
          example:
            value:
              error:
                code: <string>
                message: <string>
        description: 请求失败。
  deprecated: false
  type: path
components:
  schemas: {}

````